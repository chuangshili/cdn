(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c2df41f"],{"1c3d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return t.appMainLoading?t._e():e("div",{attrs:{id:"userHome"}},[e("div",[e("notice-bar",{attrs:{info:t.userData["noticeInfo"]}}),e("div",{staticClass:"top gap-20"},[e("el-card",{staticClass:"item item-left",attrs:{"body-style":{display:"flex",width:"100%",height:"100%","box-sizing":"border-box","flex-wrap":"wrap",gap:"20px"}}},[e("div",{staticClass:"child"},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("custom-avatar",{attrs:{size:60,src:t.avatarIcon}}),e("div",{staticStyle:{"margin-left":"30px"}},[e("div",{staticStyle:{"font-size":"30px","font-weight":"700"}},[t._v(t._s(t.userInfo.username))]),e("div",[e("span",{staticClass:"warning-color",staticStyle:{"font-size":"20px","font-weight":"600"}},[t._v(t._s(t.toTrx(t.userInfo["balance"]).toLocaleString(void 0,{maximumFractionDigits:6})))]),e("span",{staticStyle:{"font-size":"12px","margin-left":"3px","font-weight":"600"}},[t._v("TRX")])])])],1),e("el-alert",{staticClass:"alert",attrs:{title:"API权限",type:"success",description:"可通过API请求下单","show-icon":"",closable:!1}}),e("el-button",{staticClass:"button-style",attrs:{loading:t.refreshLoading,round:"",type:"success"},on:{click:t.refreshData}},[t._v("刷新数据")])],1),t.isPhone?t._e():e("div",{staticClass:"divider"}),e("div",{staticClass:"child child-right"},[e("div",{staticStyle:{"font-size":"25px","font-weight":"700"}},[t._v("充值")]),e("div",[e("el-input",{attrs:{clearable:"",type:"number",placeholder:"请输入要充值的TRX数量,最小充值数量50Trx"},on:{change:t.balanceChange},model:{value:t.charge.orderMoney,callback:function(e){t.$set(t.charge,"orderMoney",e)},expression:"charge.orderMoney"}}),t.tronLikCanPay?e("div",[t._v("钱包余额: "),e("span",{staticClass:"warning-color",staticStyle:{"font-size":"18px","font-weight":"600","margin-right":"5px"}},[t._v(t._s(t.toTrx(t.tronLinkBalance)))]),e("em",{staticClass:"warning-color",staticStyle:{"font-size":"10px","font-weight":"600"}},[t._v("TRX")])]):t._e()],1),e("div",{staticStyle:{display:"flex"}},[t.tronLikCanPay?e("el-button",{staticClass:"button-style",staticStyle:{flex:"1"},attrs:{disabled:t.chargeButtonDisabled&&t.charge.scanLoading,loading:t.charge.tronLinkLoading,round:"",type:"primary"},on:{click:function(e){return t.submitCharge("tronLink")}}},[t._v("TronLink充值")]):t._e(),e("el-button",{staticClass:"button-style",staticStyle:{flex:"1"},attrs:{disabled:t.chargeButtonDisabled&&t.charge.tronLinkLoading,loading:t.charge.scanLoading,round:"",type:"warning"},on:{click:function(e){return t.submitCharge("scanCode")}}},[t._v("地址充值")])],1)])]),e("div",{staticClass:"item gap-20",staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between"}},[e("div",{staticClass:"gap-20 item-right"},t._l(t.topRight,(function(i,a){return e("el-card",{key:a,staticClass:"card card-border-radius",style:{"border-left":i.color+" solid 40px"},attrs:{"body-style":{"text-align":"center"}}},[e("count-to",{staticStyle:{"font-size":"50px","font-weight":"700"},style:{color:i.color},attrs:{startVal:0,endVal:t.userData[a],duration:3e3}}),e("div",{staticStyle:{"font-size":"10px"}},[t._v(t._s(i.name))])],1)})),1),t._l(t.userData["todayYesterday"],(function(i,a){return e("el-card",{key:a,staticClass:"card card-border-radius"},[e("div",{staticClass:"zhuyaowenzi-color",staticStyle:{display:"flex",gap:"10px","justify-content":"space-between","line-height":"30px"}},[e("div",[e("div",[t._v(t._s(t.getDayDesc(a))+"订单数量")]),e("div",{staticClass:"number"},[t._v(t._s(i["count"].toLocaleString()))])]),e("div",[e("div",[t._v(t._s(t.getDayDesc(a))+"消费")]),e("div",{staticClass:"number"},[t._v(t._s(i["orderMoneyTotal"].toLocaleString()))])]),e("div",[e("div",[t._v(t._s(t.getDayDesc(a))+"订单消耗量")]),e("div",{staticClass:"number"},[t._v(t._s(t.formatBigNumber(i["payNumsTotal"])))])])])])}))],2)],1),e("el-card",{staticClass:"bottom",attrs:{"body-style":{padding:t.isPhone?"10px":"20px"}}},[e("line-chart",{attrs:{"chart-data":t.userData["sevenData"]}})],1)],1),e("show-collect-money",{ref:"scanMoney",attrs:{"scan-result-id":t.charge.scanPopup.scanResultId,"copy-content":t.copyContent,"current-time":t.charge.scanPopup.currentTime,"end-time":t.charge.scanPopup.endTime,"start-time":t.charge.scanPopup.startTime,"collect-address":t.charge.scanPopup.collectAddress,"collect-money":t.charge.scanPopup.collectMoney,"is-phone":t.isPhone}})],1)},n=[],s=i("7b5f"),r=i("2cdd"),o=i("915e"),c=i.n(o),l=i("b775"),u=i("7ded");const d=async function(){const t=await Object(l["i"])({method:"post",url:"/userInfo/data",data:{}});let e;if(t.data&&t.data.data&&t.data.data.username)return e=t.data.data,Object(u["f"])({username:e.username,balance:e.balance}),e;throw""},h=async function(t){const e=await Object(l["i"])({method:"post",url:"/userInfo/tronLinkCharge",data:t});return e.data},p=async function(t){const e=await Object(l["i"])({method:"post",url:"/userInfo/scanCharge",data:t});return e.data};var f=i("cf45"),m=i("206e"),g=i("cf24"),y=i("7326"),b=i.n(y),v=i("ec1b"),w=i.n(v),x=function(){var t=this,e=t._self._c;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},C=[],_={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"500px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data(){return{chart:null}},watch:{chartData:{deep:!0,handler(t){this.setOptions(t)}}},mounted(){this.$nextTick(()=>{this.initChart()})},beforeDestroy(){this.chart&&(this.chart.dispose(),this.chart=null)},activated(){this.chart.resize()},methods:{initChart(){this.chart=echarts.init(this.$el,"macarons"),this.setOptions(this.chartData),setTimeout(()=>{window.onresize=()=>{this.chart.resize()}})},setOptions({energyData:t,bandwidthData:e,dayData:i}={}){this.chart.setOption({xAxis:{data:i,boundaryGap:!1,axisTick:{show:!1},axisLabel:{}},grid:{left:10,right:35,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["能量","带宽"]},series:[{name:"能量",itemStyle:{normal:{color:b.a["error-color"],lineStyle:{color:b.a["error-color"],width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"带宽",smooth:!0,type:"line",itemStyle:{normal:{color:b.a["primary-color"],lineStyle:{color:b.a["primary-color"],width:2},areaStyle:{color:"#f3f8ff"}}},data:e,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},S=_,T=i("2877"),k=Object(T["a"])(S,x,C,!1,null,null,null),D=k.exports,L=i("2707"),A={name:"userHome",components:{CustomAvatar:s["a"],ShowCollectMoney:g["a"],CountTo:w.a,LineChart:D,NoticeBar:L["a"]},mixins:[r["a"]],data:function(){return{toTrx:f["q"],avatarIcon:c.a,userData:{},refreshLoading:!1,formatBigNumber:f["d"],charge:{orderMoney:"",tronLinkLoading:!1,scanLoading:!1,type:"",scanPopup:{collectAddress:"",collectMoney:0,startTime:0,endTime:0,currentTime:0,scanResultId:""}},topRight:{payTotal:{color:b.a["primary-color"],name:"累计下单TRX"},payTotalNums:{color:b.a["success-color"],name:"累计下单笔数"},chargeTotal:{color:b.a["warning-color"],name:"累计充值TRX"},chargeTotalNums:{color:b.a["error-color"],name:"累计充值笔数"}}}},computed:{chargeButtonDisabled:function(){return this.charge.tronLinkLoading||this.charge.scanLoading},trueChargeBalance:function(){return Object(f["p"])(this.charge.orderMoney)}},created(){this.getData().then(()=>{this.setAppMainLoading(!1)}).catch(()=>{this.setAppMainLoading(!1)})},methods:{getData:async function(){try{this.userData=await d()}catch(t){}},submitCharge:async function(t){try{this.checkTronLinkCollectAddress()}catch(e){return void this.$message.warning(e)}if(this.charge.orderMoney)try{this.charge[this.getLoadingName(t)]=!0,"tronLink"===t?await this.checkBalanceCanPay(this.trueChargeBalance)&&(await m["a"].getTronWeb(),await this.createTronLinkCharge()):await this.createCharge(),this.charge[this.getLoadingName(t)]=!1}catch(i){this.charge[this.getLoadingName(t)]=!1,"tronLink"===t&&m["a"].hasTronLink()&&this.needScan().then(async()=>{this.loading=!0,await this.createCharge(),this.loading=!1})}else this.$message.warning("请填写充值TRX")},balanceChange:function(){this.charge.orderMoney<50&&(this.$message.warning("至少50TRX起充"),this.charge.orderMoney="")},getLoadingName:function(t){return"tronLink"===t?"tronLinkLoading":"scanLoading"},createTronLinkCharge:async function(){let t;try{const e={orderMoney:this.trueChargeBalance,fromAddress:await m["a"].getTronLinkNowAddress()};t=await m["a"].sendTrx(this.tronLinkCollectAddress,this.trueChargeBalance);const i=await this.checkResult(t);if(i){e["transactionId"]=t;const i=await h(e);i.code!==l["j"]?this.showSubmitFailureTips(t,i.msg):await this.refreshData()}}catch(e){t?this.showSubmitFailureTips(t,e):this.$message.error(e)}},createCharge:async function(){try{const t={orderMoney:this.trueChargeBalance,chromeIndex:this.chromeIndex},e=await p(t),i=e.data;e.code===l["j"]&&(this.charge.scanPopup.scanResultId=i.scanResultId,this.charge.scanPopup.collectAddress=i.collectAddress,this.charge.scanPopup.collectMoney=i.collectMoney,this.charge.scanPopup.startTime=i.startTime,this.charge.scanPopup.endTime=i.endTime,this.charge.scanPopup.currentTime=Object(f["n"])(),this.$refs.scanMoney.open())}catch(t){this.$message.error(t)}},refreshData:async function(){try{this.refreshLoading=!0,await this.getData(),this.refreshLoading=!1}catch(t){this.refreshLoading=!1}},getDayDesc:function(t){return"today"===t?"今天":"昨天"}}},V=A,O=(i("278e"),i("3247"),Object(T["a"])(V,a,n,!1,null,"6eb264fc",null));e["default"]=O.exports},"1d60":function(t,e,i){},2707:function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("van-notice-bar",{staticStyle:{"font-size":"20px",padding:"0 16px"},attrs:{"left-icon":"volume-o",text:t.info,scrollable:""}})},n=[],s=(i("68ef"),i("9d70"),i("3743"),i("9ee3"),i("d282")),r=i("a142"),o=i("4598"),c=i("5fbe"),l=i("ad06"),u=Object(s["a"])("notice-bar"),d=u[0],h=u[1],p=d({mixins:[Object(c["a"])((function(t){t(window,"pageshow",this.reset)}))],inject:{vanPopup:{default:null}},props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null},delay:{type:[Number,String],default:1},speed:{type:[Number,String],default:60}},data:function(){return{show:!0,offset:0,duration:0,wrapWidth:0,contentWidth:0}},watch:{scrollable:"reset",text:{handler:"reset",immediate:!0}},created:function(){this.vanPopup&&this.vanPopup.onReopen(this.reset)},activated:function(){this.reset()},methods:{onClickIcon:function(t){"closeable"===this.mode&&(this.show=!1,this.$emit("close",t))},onTransitionEnd:function(){var t=this;this.offset=this.wrapWidth,this.duration=0,Object(o["b"])((function(){Object(o["a"])((function(){t.offset=-t.contentWidth,t.duration=(t.contentWidth+t.wrapWidth)/t.speed,t.$emit("replay")}))}))},start:function(){this.reset()},reset:function(){var t=this,e=Object(r["c"])(this.delay)?1e3*this.delay:0;this.offset=0,this.duration=0,this.wrapWidth=0,this.contentWidth=0,clearTimeout(this.startTimer),this.startTimer=setTimeout((function(){var e=t.$refs,i=e.wrap,a=e.content;if(i&&a&&!1!==t.scrollable){var n=i.getBoundingClientRect().width,s=a.getBoundingClientRect().width;(t.scrollable||s>n)&&Object(o["a"])((function(){t.offset=-s,t.duration=s/t.speed,t.wrapWidth=n,t.contentWidth=s}))}}),e)}},render:function(){var t=this,e=arguments[0],i=this.slots,a=this.mode,n=this.leftIcon,s=this.onClickIcon,r={color:this.color,background:this.background},o={transform:this.offset?"translateX("+this.offset+"px)":"",transitionDuration:this.duration+"s"};function c(){var t=i("left-icon");return t||(n?e(l["a"],{class:h("left-icon"),attrs:{name:n}}):void 0)}function u(){var t,n=i("right-icon");return n||("closeable"===a?t="cross":"link"===a&&(t="arrow"),t?e(l["a"],{class:h("right-icon"),attrs:{name:t},on:{click:s}}):void 0)}return e("div",{attrs:{role:"alert"},directives:[{name:"show",value:this.show}],class:h({wrapable:this.wrapable}),style:r,on:{click:function(e){t.$emit("click",e)}}},[c(),e("div",{ref:"wrap",class:h("wrap"),attrs:{role:"marquee"}},[e("div",{ref:"content",class:[h("content"),{"van-ellipsis":!1===this.scrollable&&!this.wrapable}],style:o,on:{transitionend:this.onTransitionEnd}},[this.slots()||this.text])]),u()])}}),f={name:"NoticeBar",components:{VanNoticeBar:p},props:{info:{type:String,required:!0}}},m=f,g=(i("750b"),i("2877")),y=Object(g["a"])(m,a,n,!1,null,"a7685574",null);e["a"]=y.exports},"278e":function(t,e,i){"use strict";i("e500")},3247:function(t,e,i){"use strict";i("5014")},4598:function(t,e,i){"use strict";(function(t){i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return l}));var a=i("a142"),n=Date.now();function s(t){var e=Date.now(),i=Math.max(0,16-(e-n)),a=setTimeout(t,i);return n=e+i,a}var r=a["f"]?t:window,o=r.requestAnimationFrame||s;r.cancelAnimationFrame||r.clearTimeout;function c(t){return o.call(r,t)}function l(t){c((function(){c(t)}))}}).call(this,i("c8ba"))},5014:function(t,e,i){},"5a81":function(t,e,i){"use strict";i("a77e")},"5c16":function(t,e,i){},6426:function(t,e,i){t.exports={"border-color":"#e5e7eb","phone-width":"768px","background-color":"#f0f8ff","order-state-primary-phone":"#d9ecff","order-state-success-phone":"#e1f3d8","order-state-warning-phone":"#faecd8","order-state-error-phone":"#fde2e2","primary-color":"#409eff","success-color":"#67C23A","warning-color":"#E6A23C","error-color":"#F56C6C","ciyaowenzi-color":"#909399","base-shadow":"0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04)","base3-shadow":"0 1px 1px #ccc","font-wight-600":"600","nav-menu-text-color":"#1989fa","nav-menu-text-color2":"#2c3e50","aside-width":"200px","zhuyaowenzi-color":"#606266"}},"67ee":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[t.isPhone?e("van-popup",{staticClass:"van-popup",style:{left:t.left},attrs:{id:"vanPopup",position:"right","get-container":"body"},on:{opened:t.opened},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"el-card__header header",style:{left:t.left}},[e("div",{},[t._v(t._s(t.title))]),e("button",{staticClass:"el-dialog__headerbtn",staticStyle:{top:"28px !important"},attrs:{type:"button","aria-label":"Close"},on:{click:t.phoneDialogClose}},[e("i",{staticClass:"el-dialog__close el-icon el-icon-close"})])]),e("div",{staticStyle:{"margin-top":"80px !important"}},[t.noCard?t._t("default"):e("el-card",{staticStyle:{margin:"0 15px"},attrs:{"body-style":{padding:"10px"}}},[t._t("default")],2)],2)]):e("el-dialog",{attrs:{title:t.title,visible:t.visible,"show-close":!1,"close-on-click-modal":!1,"append-to-body":!0,"destroy-on-close":!0},on:{"update:visible":function(e){t.visible=e},close:t.close,opened:t.opened}},[e("template",{slot:"title"},[e("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))]),e("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.dialogClose}},[e("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),e("div",{staticClass:"border-bottom",staticStyle:{"margin-top":"20px"}})]),e("div",{staticStyle:{display:"flex"}},[t._t("default")],2)],2)],1)},n=[],s={name:"index",components:{},props:{isPhone:{type:Boolean,required:!0},visible:{type:Boolean,required:!0},title:{type:String,required:!0},noCard:{type:Boolean,default:!1}},watch:{visible:function(){setTimeout(()=>{this.visible?this.left="0 !important":this.left="100% !important"},0)}},data:function(){return{left:"100% !important"}},methods:{close:function(){this.$emit("close")},opened:function(){this.$emit("opened")},dialogClose:function(){this.$emit("update:visible",!1)},phoneDialogClose:function(){this.dialogClose(),this.close()}}},r=s,o=(i("8352"),i("5a81"),i("2877")),c=Object(o["a"])(r,a,n,!1,null,"ed5604aa",null);e["a"]=c.exports},7331:function(t,e,i){},"750b":function(t,e,i){"use strict";i("5c16")},8352:function(t,e,i){"use strict";i("1d60")},"9ee3":function(t,e,i){},a77e:function(t,e,i){},cf24:function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("custom-popup",{attrs:{title:"扫码支付",visible:t.visible,"is-phone":t.isPhone},on:{"update:visible":function(e){t.visible=e},close:t.close}},[e("div",{staticClass:"popup-default"},[e("div",{staticClass:"popup-content-tips margin-top-0",staticStyle:{"text-align":"left"}},[e("ul",{staticClass:"ul-style margin-left-20"},[e("li",{staticClass:"margin-left-20"},[t._v("请在有效的时间内支付")]),e("li",{staticClass:"margin-left-20"},[t._v("需转账："+t._s(t.collectMoney.toString())+" 个TRX"),e("em",{staticStyle:{"margin-left":"5px","font-size":"10px"}},[t._v("(不能少否则不能到账)")])]),e("li",{staticClass:"margin-left-20"},[t._v("收款地址："),e("span",[t._v(t._s(t.isPhone?t.abbreviationAddress(t.collectAddress):t.collectAddress))])])]),e("div",{staticClass:"error-color margin-left-20",staticStyle:{"font-size":"15px"}},[t._v("请勿同时在同一浏览器多窗口拉起扫码支付")]),e("div",{staticStyle:{position:"relative","text-align":"center",padding:"20px 0 10px 0"}},[t.timeout?e("div",{staticClass:"error-color",staticStyle:{"font-size":"20px","font-weight":"500"}},[t._v("支付超时，请勿支付")]):e("el-statistic",{ref:"statistic",staticClass:"error-color",attrs:{format:"mm 分 ss 秒",value:1e3*t.endTime-5e3,title:"剩余时间：","time-indices":""},on:{finish:t.timeoutClose}}),e("vue-qrcode",{style:{filter:t.timeout?"blur(2px)":"inherit"},attrs:{value:t.collectAddress,width:230,margin:2}}),t.timeout?t._e():e("div",{staticClass:"popup2-info popup2-radius-bottom",staticStyle:{"padding-top":"0",position:"absolute",left:"50%",bottom:"16px",transform:"translate(-50%, 100%)"}},[t._v(" 监控支付中"+t._s(t.loadingText)+" ")])],1)]),e("div",{staticStyle:{"padding-top":"15px"}},[e("el-button",{staticClass:"button-style",attrs:{type:"primary",round:""},on:{click:function(e){return t.popup2Copy("address")}}},[t._v("复制收款地址")])],1),e("div",[e("el-button",{staticClass:"button-style",attrs:{type:"primary",round:""},on:{click:function(e){return t.popup2Copy("trx")}}},[t._v("复制支付数量")])],1)])])},n=[],s=i("67ee");function r(t,e){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(t);n<a.length;n++)e.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(i[a[n]]=t[a[n]])}return i}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=i("736c"),c=i.n(o);const l=["low","medium","quartile","high","L","M","Q","H"],u=[0,1,2,3,4,5,6,7],d=["alphanumeric","numeric","kanji","byte"],h=["image/png","image/jpeg","image/webp"],p=40;var f={props:{version:{type:Number,validator:t=>t===Number.parseInt(String(t),10)&&t>=1&&t<=p},errorCorrectionLevel:{type:String,validator:t=>l.includes(t)},maskPattern:{type:Number,validator:t=>u.includes(t)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:t=>["dark","light"].every(e=>["string","undefined"].includes(typeof t[e]))},type:{type:String,validator:t=>h.includes(t)},quality:{type:Number,validator:t=>t===Number.parseFloat(String(t))&&t>=0&&t<=1},value:{type:[String,Array],required:!0,validator(t){return"string"===typeof t||t.every(({data:t,mode:e})=>"string"===typeof t&&(null==e||d.includes(e)))}}},data(){return{dataUrl:""}},watch:{$props:{deep:!0,immediate:!0,handler:"toDataURL"}},methods:{toDataURL(){const t=this.$props,{quality:e}=t,i=r(t,["quality"]);return c.a.toDataURL(this.value,Object.assign(i,null==e||{renderOptions:{quality:e}})).then(t=>this.dataUrl=t).catch(t=>this.$emit("error",t))}},render(){return this.$createElement("img",{domProps:Object.assign(Object.assign({},this.$attrs),{src:this.dataUrl})})}},m=i("cf45"),g=i("82e0"),y=i("2934"),b=i("4360"),v={name:"index",mixins:[g["a"]],components:{CustomPopup:s["a"],VueQrcode:f},props:{isPhone:{type:Boolean,required:!0},collectMoney:{type:Number,required:!0},collectAddress:{type:String,required:!0},startTime:{type:Number,required:!0},endTime:{type:Number,required:!0},currentTime:{type:Number,required:!0},copyContent:{type:Function,required:!0},scanResultId:{type:String,required:!0},autoReset:{type:Boolean,default:!0}},data:function(){return{abbreviationAddress:m["a"],loadingText:".",timeout:!1}},watch:{visible:function(){this.visible&&(this.timeout=!1,this.createLoadingText(),this.checkPayResult())}},methods:{close:function(){this.autoReset&&setTimeout(()=>{Object(y["c"])(b["a"].state.app.chromeIndex,this.scanResultId)},12e4),this.$emit("close")},popup2Copy:function(t){"address"===t?this.copyContent(this.collectAddress):this.copyContent(this.collectMoney.toString())},checkPayResult:async function(){if(await Object(y["b"])(this.scanResultId))return this.visible=!1,this.$message.success("支付成功"),void this.close();this.visible&&!this.timeout&&Object(m["n"])()<this.endTime&&setTimeout(()=>{this.checkPayResult()},5e3)},createLoadingText:function(){this.loadingText=6===this.loadingText.length?".":this.loadingText+".",this.visible&&!this.timeout&&setTimeout(()=>{this.createLoadingText()},500)},timeoutClose:function(){this.timeout=!0}}},w=v,x=(i("f3c7"),i("db4e"),i("2877")),C=Object(x["a"])(w,a,n,!1,null,"d973c38a",null);e["a"]=C.exports},db4e:function(t,e,i){"use strict";i("6426")},e500:function(t,e,i){},ec1b:function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){return function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,i){var a=i(4)(i(1),i(5),null,null);t.exports=a.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,i,a){return i*(1-Math.pow(2,-10*t/a))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,a.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,a.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,a.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,a.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,a.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),i=e[0],a=e.length>1?this.decimal+e[1]:"",n=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;n.test(i);)i=i.replace(n,"$1"+this.separator+"$2");return this.prefix+i+a+this.suffix}},destroyed:function(){(0,a.cancelAnimationFrame)(this.rAF)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),n=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=n.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",n.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=0,n="webkit moz ms o".split(" "),s=void 0,r=void 0;if("undefined"==typeof window)e.requestAnimationFrame=s=function(){},e.cancelAnimationFrame=r=function(){};else{e.requestAnimationFrame=s=window.requestAnimationFrame,e.cancelAnimationFrame=r=window.cancelAnimationFrame;for(var o=void 0,c=0;c<n.length&&(!s||!r);c++)o=n[c],e.requestAnimationFrame=s=s||window[o+"RequestAnimationFrame"],e.cancelAnimationFrame=r=r||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];s&&r||(e.requestAnimationFrame=s=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-a)),n=window.setTimeout((function(){t(e+i)}),i);return a=e+i,n},e.cancelAnimationFrame=r=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=s,e.cancelAnimationFrame=r},function(t,e){t.exports=function(t,e,i,a){var n,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(n=t,s=t.default);var o="function"==typeof s?s.options:s;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),i&&(o._scopeId=i),a){var c=Object.create(o.computed||null);Object.keys(a).forEach((function(t){var e=a[t];c[t]=function(){return e}})),o.computed=c}return{esModule:n,exports:s,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])}))},f3c7:function(t,e,i){"use strict";i("7331")}}]);