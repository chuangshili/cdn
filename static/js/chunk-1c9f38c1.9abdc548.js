(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c9f38c1"],{"08df":function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("el-radio-group",{staticStyle:{display:"flex",width:"100%"},attrs:{size:"medium"},model:{value:t.selectType,callback:function(s){t.selectType=s},expression:"selectType"}},[s("el-radio-button",{staticStyle:{flex:"1"},attrs:{label:t.energyLabel}},[t._v("能量")]),s("el-radio-button",{staticStyle:{flex:"1"},attrs:{label:t.bandwidthLabel}},[t._v("带宽")])],1)},a=[],n={name:"type",props:{energyLabel:{type:String,required:!0},bandwidthLabel:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{selectType:""}},watch:{selectType:function(){this.$emit("update:type",this.selectType)}},created(){this.selectType=this.type}},r=n,o=(e("7582"),e("2877")),c=Object(o["a"])(r,i,a,!1,null,"25b5208e",null);s["a"]=c.exports},"1c4f":function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择租用时间"},on:{change:t.selectChange},model:{value:t.selectRentTime,callback:function(s){t.selectRentTime=s},expression:"selectRentTime"}},t._l(t.rentTimeConfig,(function(t,e){return s("el-option",{key:e,attrs:{label:t,value:Number(e)}})})),1)},a=[],n={name:"rentTime",props:{rentTimeConfig:{type:Object,required:!0},rentTime:{required:!0}},data:function(){return{selectRentTime:""}},watch:{rentTime:function(){this.selectRentTime=this.rentTime}},created(){this.selectRentTime=this.rentTime},methods:{selectChange:function(){this.$emit("update:rentTime",this.selectRentTime)}}},r=n,o=e("2877"),c=Object(o["a"])(r,i,a,!1,null,"326c7f4b",null);s["a"]=c.exports},"38c7":function(t,s,e){},"3d6a":function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("el-alert",{attrs:{title:"资源紧缺平台"+t.resTypeConfig[t.form.resType]+"暂停下单",type:"warning","show-icon":"",closable:!1}})},a=[],n={name:"stopPay",props:{resTypeConfig:{type:Object,required:!0},form:{type:Object,required:!0}}},r=n,o=e("2877"),c=Object(o["a"])(r,i,a,!1,null,"cbbe2ebc",null);s["a"]=c.exports},"59a6":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return t.appMainLoading?t._e():s("div",{staticClass:"margin-15 batch-pay"},[s("el-card",{attrs:{"body-style":t.bodyCardStyle}},[s("div",{staticClass:"primary-color-bg card-header"},[t._v("批量下单")]),s("div",{style:t.cardBodyContentStyle},[s("div",[s("el-input",{staticClass:"dengkuan",attrs:{disabled:t.loading,type:"textarea",autosize:{minRows:8},placeholder:t.addressDataPlaceholder},on:{change:t.batchAddressChange},model:{value:t.batchAddress,callback:function(s){t.batchAddress=s},expression:"batchAddress"}})],1),s("div",{staticClass:"flex-center mt-30"},[s("type",{attrs:{type:t.form.resType,"bandwidth-label":t.BANDWIDTHKEY,"energy-label":t.ENERGYKEY},on:{"update:type":function(s){return t.$set(t.form,"resType",s)}}})],1),s("div",{staticClass:"mt-30"},[s("rent-time",{attrs:{"rent-time":t.form.rentTime,"rent-time-config":t.rentTimeConfig},on:{"update:rentTime":function(s){return t.$set(t.form,"rentTime",s)},"update:rent-time":function(s){return t.$set(t.form,"rentTime",s)}}})],1),s("div",{staticClass:"form-item mt-30",staticStyle:{"line-height":"38px"}},[s("pay-nums",{attrs:{"pay-nums":t.form.payNums,form:t.form,"pay-config":t.payConfig},on:{"update:payNums":function(s){return t.$set(t.form,"payNums",s)},"update:pay-nums":function(s){return t.$set(t.form,"payNums",s)}}})],1),s("div",{staticClass:"xiangxi-background mt-30",staticStyle:{padding:"20px 5px 20px 20px"}},[s("div",{staticClass:"flex-align-center"},[s("span",{staticClass:"left"},[t._v("合计金额")]),s("span",{staticClass:"middle"},[t._v(":")]),s("span",{staticClass:"right",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.toTrx(t.orderMoney*this.addressNums))+" TRX")])]),s("div",{staticClass:"flex-align-center"},[s("span",{staticClass:"left"},[t._v(t._s(t.orderPriceTips))]),s("span",{staticClass:"middle"},[t._v(":")]),s("span",{staticClass:"right"},[t._v(t._s(t.orderPrice.toString())+" SUN")])]),s("div",{staticClass:"flex-align-center"},[s("span",{staticClass:"left"},[t._v("地址数量")]),s("span",{staticClass:"middle"},[t._v(":")]),s("span",{staticClass:"right"},[t._v(t._s(t.addressNums)+" 个")])]),s("div",{staticClass:"flex-align-center"},[s("span",{staticClass:"left"},[t._v("可用数量")]),s("span",{staticClass:"middle"},[t._v(":")]),s("span",{staticClass:"right"},[t._v(t._s(t.availableRes))])]),s("div",{staticClass:"flex-align-center"},[s("span",{staticClass:"left"},[t._v("合计单量")]),s("span",{staticClass:"middle"},[t._v(":")]),s("span",{staticClass:"right"},[t._v(t._s(t.totalPayNums))])])]),s("div",{staticClass:"mt-30"},[s("el-progress",{attrs:{percentage:t.percentage,"stroke-width":15,"text-inside":!0,"text-color":"white"}})],1),s("div",{staticClass:"mt-30"},[t.canPayConfig[t.form.resType]?s("div",{staticStyle:{display:"flex"}},[s("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{disabled:0===t.addressNums,loading:t.loading,round:"",size:"medium",type:"primary"},on:{click:t.startProcessing}},[t._v("开始批量提交")]),s("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{disabled:t.loading,round:"",size:"medium",type:"info"},on:{click:t.reset}},[t._v("重置")])],1):s("stop-pay",{attrs:{form:t.form,"res-type-config":t.resTypeConfig}})],1)])]),s("el-card",{staticClass:"d-flex",attrs:{"body-style":t.bodyCardStyle2}},[s("div",{staticClass:"success-color-bg card-header"},[t._v("成功地址")]),s("div",{style:t.cardBodyContentStyle},[s("div",{staticClass:"center-content"},[t.successAddress.length>0?s("ol",{staticClass:"dengkuan ol-style"},t._l(t.successAddress,(function(e,i){return s("li",{key:i},[t._v(t._s(e.address)+" "),s("span",{staticClass:"info-text success-color"},[t._v(t._s(e.info))])])})),0):s("el-empty",{attrs:{description:"暂无数据"}})],1),s("div",[s("el-button",{staticClass:"button-style",attrs:{disabled:0===t.successAddress.length,round:"",size:"medium",type:"success"},on:{click:function(s){return t.copyAddressData("success")}}},[t._v("复制所有成功地址")])],1)])]),s("el-card",{staticClass:"d-flex",attrs:{"body-style":t.bodyCardStyle2}},[s("div",{staticClass:"error-color-bg card-header"},[t._v("失败地址")]),s("div",{style:t.cardBodyContentStyle},[s("div",{staticClass:"center-content"},[t.failureAddress.length>0?s("ol",{staticClass:"dengkuan ol-style"},t._l(t.failureAddress,(function(e,i){return s("li",{key:i},[t._v(t._s(e.address)+" "),s("span",{staticClass:"info-text error-color"},[t._v(t._s(e.info))])])})),0):s("el-empty",{attrs:{description:"暂无数据"}})],1),s("div",[s("el-button",{staticClass:"button-style",attrs:{disabled:0===t.failureAddress.length,round:"",size:"medium",type:"danger"},on:{click:function(s){return t.copyAddressData("error")}}},[t._v("复制所有失败地址")])],1)])])],1)},a=[],n=(e("14d9"),e("2cdd")),r=e("08df"),o=e("852e"),c=e("1c4f"),l=e("d818"),d=e("cf45"),u=e("3d6a"),p=e("3e0f"),f=e("b775"),m={name:"payBatch",mixins:[n["a"],o["a"]],components:{Type:r["a"],RentTime:c["a"],PayNums:l["a"],StopPay:u["a"]},data:function(){return{toTrx:d["q"],addressDataPlaceholder:"请输入批量提交的地址\n一行一个地址, 如下: \nTQE267x5xy94T4UnTwaEZbNm3t1FbTsqHZ\nTQE267x5xy94T4UnTwaEZbNm3t1FbTsqHZ\nTQE267x5xy94T4UnTwaEZbNm3t1FbTsqHZ\n......",bodyCardStyle:{padding:0},successAddress:[],failureAddress:[],batchAddress:"",loading:!1,startTotalNums:0}},computed:{cardBodyContentStyle:function(){return{padding:this.isPhone?"10px":"20px",display:"flex","flex-direction":"column",flex:1}},bodyCardStyle2:function(){return Object.assign({},this.cardBodyContentStyle,this.bodyCardStyle)},addressNums:function(){return this.batchAddressData.length},batchAddressData:function(){return this.batchAddress?this.batchAddress.split("\n"):[]},percentage:function(){return 0===this.startTotalNums?0:Math.floor((this.startTotalNums-this.addressNums)/this.startTotalNums*100)},availableRes:function(){return this.payConfig.progressConfig[this.form.resType].info?this.payConfig.progressConfig[this.form.resType].info.split("/")[0].trim():""},totalPayNums:function(){return this.addressNums*this.form.payNums/1e4+"W"}},created(){this.createIntervalTask(this.getPayConfig,this.$options.name)},methods:{copyAddressData:function(t){const s="success"===t?this.successAddress:this.failureAddress;if(s.length>0){let t="";s.forEach(s=>{t+=s.address+"\n"}),this.copyContent(t)}},batchAddressChange:async function(){let t="";for(const e in this.batchAddressData){const i=this.batchAddressData[e];try{await this.simpleCheckAddress(i),t+=i+"\n"}catch(s){i&&this.addShowData("failure",i,s)}}this.batchAddress=t.trim(),this.startTotalNums=0},delRow:function(t){let s="";this.batchAddressData.forEach(e=>{e!==t&&(s+=e+"\n")}),this.batchAddress=s.trim()},addShowData:function(t,s,e){const i={address:s,info:e};"success"===t?this.successAddress.push(i):this.failureAddress.push(i),this.delRow(s)},reset:function(){this.form.resType=this.ENERGYKEY,this.form.rentTime=1,this.form.payNums=32e3,this.batchAddress="",this.successAddress=[],this.failureAddress=[],this.startTotalNums=0},startProcessing:async function(){this.loading=!0;const t=[...this.batchAddressData];this.startTotalNums=t.length;for(const e in t){const i=t[e];try{if(!this.checkUserBalance(this.orderMoney))throw"余额不足";const t=await Object(p["f"])(this.getPostData(i));if(t.code===f["l"])throw t.msg;this.addShowData("success",i,t.msg)}catch(s){return this.addShowData("failure",i,s),this.loading=!1,void await this.$alert("warning","批量提交停止",i+" ("+s.toString()+")")}}this.loading=!1},getPostData:function(t){return Object.assign({receiveAddress:t,orderNotes:"",resLock:0,groupName:"",chromeIndex:"",paymentAmount:this.orderMoney},this.form)},enter:function(){}}},h=m,y=(e("f328"),e("2877")),g=Object(y["a"])(h,i,a,!1,null,"d6bcced8",null);s["default"]=g.exports},7582:function(t,s,e){"use strict";e("38c7")},"852e":function(t,s,e){"use strict";var i=e("cf45"),a=e("3e0f"),n=e("4360");s["a"]={data:function(){return{payConfig:{minPayNumsConfig:{ENERGY:0,BANDWIDTH:0},showListInfo:[],preferentialConfig:{},progressConfig:{ENERGY:{available:0,percentage:0},BANDWIDTH:{available:0,percentage:0}},basePrice:{},resLockLimit:{},priceInfo:[]},form:{resType:"ENERGY",rentTime:1,payNums:32e3,chromeIndex:""}}},computed:{orderPrice:function(){if(!Object(i["i"])(this.priceConfig)){if(this.priceConfig[this.form.resType][this.form.rentTime])return this.priceConfig[this.form.resType][this.form.rentTime];if(this.priceConfig[this.form.resType]["other"])return this.priceConfig[this.form.resType]["other"]}return 0},orderPriceTips:function(){return this.form.rentTime%24>0?"1小时单价":"1天单价"},orderMoney:function(){if(this.form.payNums>0){let t=this.orderPrice*this.form.payNums*this.sumDay;return this.payConfig.preferentialConfig[this.form.resType]&&this.form.payNums>=this.payConfig.preferentialConfig[this.form.resType].limit&&(t*=this.payConfig.preferentialConfig[this.form.resType].percentage),this.formatMoney(t)}return"0.00"},sumDay:function(){return this.form.rentTime%24>0?1:this.form.rentTime/24}},created(){this.createRentTimeConfig(),this.getPayConfig(0).then(()=>{this.setAppMainLoading(!1)}).catch(()=>{this.setAppMainLoading(!1)}),this.form.chromeIndex=this.chromeIndex},methods:{getPayConfig:async function(){const t=await Object(a["b"])();this.payConfig.minPayNumsConfig=t.minPayNumsConfig,this.payConfig.showListInfo=t.showListInfo,this.payConfig.preferentialConfig=t.preferentialConfig,this.payConfig.progressConfig=t.progressConfig,this.payConfig.basePrice=t.basePrice,this.payConfig.resLockLimit=t.resLockLimit,this.payConfig.priceInfo=t.priceInfo,n["a"].commit("app/set_priceConfig",t.priceConfig),n["a"].commit("app/set_canPayConfig",t.canPayConfig)}}}},9041:function(t,s,e){},d818:function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",[s("el-popover",{ref:"popover",attrs:{placement:"top",title:"价格明细",width:"200",trigger:"focus"}},[s("ul",{staticClass:"ul-style",staticStyle:{margin:"20px"}},t._l(t.payConfig.priceInfo[t.form.resType],(function(e,i){return s("li",{key:i,staticStyle:{"font-size":"18px"}},[s("span",[t._v(t._s(e.desc))]),s("span",{staticClass:"error-color",staticStyle:{"font-size":"23px","font-weight":"500",margin:"0 10px"}},[t._v(t._s(e.price))]),s("span",{staticStyle:{"font-size":"14px"}},[t._v("sun")])])})),0)]),s("el-input-number",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticStyle:{width:"100%"},attrs:{step:t.sumUsdtConfig[t.form.resType],min:t.inputNumsMaxMin[0],max:t.inputNumsMaxMin[1],placeholder:t.placeholderPayNums,type:"number"},on:{change:t.payNumsInputChange},model:{value:t.inputPayNums,callback:function(s){t.inputPayNums=s},expression:"inputPayNums"}}),s("div",{staticClass:"error-color",staticStyle:{position:"absolute",top:"1px",right:"36px",padding:"0 15px","background-color":"#f5f7fa","text-align":"center","border-left":"1px solid #DCDFE6"}},[t._v(" "+t._s(t.showPayNumsSimple)+" ")]),s("div",{staticClass:"input-right-tips simple-tips",staticStyle:{top:"-30px"}},[t._v(" 预估可转账USDT"),s("span",{staticStyle:{margin:"0 5px","font-size":"15px"}},[t._v(t._s(t.usdtInfo)+" ")]),t._v(" 次"),s("el-button",{staticClass:"error-color",staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:t.openPormptUsdt}},[t._v("修改")])],1)],1)},a=[],n=e("cf45"),r={name:"payNums",props:{payConfig:{type:Object,required:!0},form:{type:Object,required:!0},payNums:{type:[Number,String],required:!0}},data:function(){return{sumUsdtConfig:{ENERGY:32e3,BANDWIDTH:283},inputPayNums:""}},computed:{inputNumsMaxMin:function(){return[this.payConfig.minPayNumsConfig[this.form.resType],this.payConfig.progressConfig[this.form.resType].available]},usdtNumsMaxMin:function(){return[Math.floor(this.inputNumsMaxMin[0]/this.sumUsdtConfig[this.form.resType]),Math.floor(this.inputNumsMaxMin[1]/this.sumUsdtConfig[this.form.resType])]},placeholderPayNums:function(){return this.payConfig.minPayNumsConfig[this.form.resType]?"请输入租用数量，最少"+this.payConfig.minPayNumsConfig[this.form.resType].toString():""},showPayNumsSimple:function(){return this.form.payNums?this.form.payNums<1e4?this.form.payNums.toString():(this.form.payNums/1e4).toString()+"W":"0"},usdtInfo:function(){return this.form.payNums>0?Math.floor(this.form.payNums/this.sumUsdtConfig[this.form.resType]):0}},watch:{payNums:function(){this.inputPayNums=this.payNums}},created(){this.inputPayNums=this.payNums},methods:{payNumsInputChange:function(t){return Object(n["k"])(t)?t<this.payConfig.minPayNumsConfig[this.form.resType]?(this.$message.warning("租用资源数量不能小于"+this.payConfig.minPayNumsConfig[this.form.resType].toString()),void this.setPayNums("")):(t>this.payConfig.progressConfig[this.form.resType].available&&(this.$message.warning("租用数量过大，联系客服"),this.setPayNums("")),void this.setPayNums(t)):(this.$message.warning("无效值"),void this.setPayNums(""))},setPayNums:function(t){this.$emit("update:payNums",t)},openPormptUsdt:function(){const t="至少 "+this.usdtNumsMaxMin[0]+" 次;至多 "+this.usdtNumsMaxMin[1]+" 次";this.$prompt("info","修改USDT次数","请输入USDT次数","确定","取消",{inputValidator:s=>s>=this.usdtNumsMaxMin[0]&&s<=this.usdtNumsMaxMin[1]||t,inputPlaceholder:t,inputType:"Number",inputValue:this.usdtInfo}).then(({value:t})=>{this.setPayNums(Number(t)*this.sumUsdtConfig[this.form.resType])}).catch(()=>{})}}},o=r,c=e("2877"),l=Object(c["a"])(o,i,a,!1,null,"742776e2",null);s["a"]=l.exports},f328:function(t,s,e){"use strict";e("9041")}}]);