(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20759e5b"],{"039a":function(t,e,s){t.exports={"border-color":"#e5e7eb","phone-width":"768px","background-color":"#f0f8ff","order-state-primary-phone":"#d9ecff","order-state-success-phone":"#e1f3d8","order-state-warning-phone":"#faecd8","order-state-error-phone":"#fde2e2","primary-color":"#409eff","success-color":"#67C23A","warning-color":"#E6A23C","error-color":"#F56C6C","ciyaowenzi-color":"#909399","base-shadow":"0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04)","base3-shadow":"0 1px 1px #ccc","font-wight-600":"600","nav-menu-text-color":"#1989fa","nav-menu-text-color2":"#2c3e50","aside-width":"200px","zhuyaowenzi-color":"#606266"}},"08df":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("el-radio-group",{staticStyle:{display:"flex",width:"100%"},attrs:{size:"medium"},model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}},[e("el-radio-button",{staticStyle:{flex:"1"},attrs:{label:t.energyLabel}},[t._v("能量")]),e("el-radio-button",{staticStyle:{flex:"1"},attrs:{label:t.bandwidthLabel}},[t._v("带宽")])],1)},i=[],r={name:"type",props:{energyLabel:{type:String,required:!0},bandwidthLabel:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{selectType:""}},watch:{selectType:function(){this.$emit("update:type",this.selectType)}},created(){this.selectType=this.type}},n=r,o=(s("7582"),s("2877")),c=Object(o["a"])(n,a,i,!1,null,"25b5208e",null);e["a"]=c.exports},"099c":function(t,e,s){"use strict";s("6844")},"0fc7":function(t,e,s){"use strict";s("95ed")},1482:function(t,e,s){"use strict";s("d487")},"1c4f":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择租用时间"},on:{change:t.selectChange},model:{value:t.selectRentTime,callback:function(e){t.selectRentTime=e},expression:"selectRentTime"}},t._l(t.rentTimeConfig,(function(t,s){return e("el-option",{key:s,attrs:{label:t,value:Number(s)}})})),1)},i=[],r={name:"rentTime",props:{rentTimeConfig:{type:Object,required:!0},rentTime:{required:!0}},data:function(){return{selectRentTime:""}},watch:{rentTime:function(){this.selectRentTime=this.rentTime}},created(){this.selectRentTime=this.rentTime},methods:{selectChange:function(){this.$emit("update:rentTime",this.selectRentTime)}}},n=r,o=s("2877"),c=Object(o["a"])(n,a,i,!1,null,"326c7f4b",null);e["a"]=c.exports},"1d60":function(t,e,s){},"21ee":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-table"},[e("custom-table",{attrs:{"badge-key":t.badgeKey,"is-phone":t.isPhone,"table-data":t.tableData,"table-config":t.tableConfig,"show-page":t.showPage,"page-change":t.pageChange,"phone-item-style":t.phoneItemStyle,"phone-item-card-body":t.phoneItemCardBody,pages:t.pages,page:t.page,total:t.total,"i18n-table":t.i18nConfig.tableI18n},scopedSlots:t._u([{key:"phoneIndex",fn:function({vSlot:s}){return[t.checkShowRecoveryTips(s.recoveryTime,s.canRenewals)?e("div",{staticClass:"phone-index"},[t._v(" "+t._s(t.$t("l1"))+" ")]):t._e()]}},{key:"state",fn:function({vSlot:s}){return[t.isPhone?e("div",{staticStyle:{margin:"10px 0"}},[-1===["异常","回收异常"].indexOf(s.state)?e("el-steps",{attrs:{"process-status":"wait","finish-status":"success",active:t.orderStateConfig[s.state]}},t._l(t.orderStateConfig,(function(t,s){return e("el-step",{key:t,attrs:{title:s}})})),1):e("el-steps",{attrs:{active:1,"process-status":"error"}},[e("el-step",{attrs:{title:"安排中"}}),e("el-step",{attrs:{title:s.state}})],1)],1):e("el-tag",{attrs:{type:t.orderState(s.state),effect:"dark"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},["安排中"===s.state?e("van-loading",{attrs:{color:"white",type:"spinner",size:18}}):t._e(),e("span",{staticStyle:{"font-weight":"600","margin-left":"5px"}},[t._v(t._s(t.$t(s.state)))])],1)])]}},{key:"rentTimeLock",fn:function({vSlot:s}){return[e("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:!0},model:{value:s.rentTimeLock,callback:function(e){t.$set(s,"rentTimeLock",e)},expression:"vSlot.rentTimeLock"}})]}},{key:"orderType",fn:function({vSlot:s}){return[e("el-tag",{staticClass:"font-wight-600",attrs:{size:t.tagSize,type:"danger"}},[t._v(" "+t._s(t.$t(t.resTypeConfig[s.orderType]))+" ")])]}},{key:"lockTime",fn:function({vSlot:s}){return[e("el-tag",{staticClass:"font-wight-600",attrs:{size:t.tagSize,type:"primary"}},[t._v(" "+t._s(t.i18nRentTime(s.lockTime))+" ")])]}},{key:"payNums",fn:function({vSlot:s}){return[e("el-tag",{staticClass:"font-wight-600",attrs:{size:t.tagSize,type:"warning"}},[t._v(" "+t._s(t.formatBigNumber(s.payNums))+" ")])]}},{key:"receiveAddress",fn:function({vSlot:s}){return[e("div",{staticClass:"primary-color",staticStyle:{"font-weight":"600"}},[e("i",{staticClass:"el-icon-document-copy",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.copyContent(s.receiveAddress)}}}),e("span",{staticStyle:{"margin-left":"7px"}},[t._v(t._s(t.showReceiveAddress(s.receiveAddress)))])])]}},{key:"orderMoney",fn:function({vSlot:s}){return[e("span",{staticClass:"font-wight-600 primary-color"},[t._v(t._s(s.orderMoney))])]}},{key:"time",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.time))])]}},{key:"recoveryTime",fn:function({vSlot:s}){return[!t.isPhone&&t.checkShowRecoveryTips(s.recoveryTime,s.canRenewals)?e("el-alert",{attrs:{type:"error",effect:"dark",closable:!1},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticStyle:{"font-size":"13px","line-height":"16px"}},[e("div",[t._v(t._s(t.splitRecoveryTime(s.recoveryTime)[0]))]),e("div",[t._v(t._s(t.splitRecoveryTime(s.recoveryTime)[1]))]),e("div",{staticStyle:{"letter-spacing":"3px","font-size":"12px","line-height":"15px"}},[t._v(t._s(t.$t("l1")))])])]},proxy:!0}],null,!0)}):e("div",{style:{width:t.isPhone?"auto":"80px"}},[t._v(" "+t._s(s.recoveryTime)+" ")])]}},{key:"orderNotes",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.orderNotes))])]}},{key:"hash",fn:function({vSlot:s}){return[e("div",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr","grid-gap":"5px"},style:{"margin-top":t.isPhone?"10px":"auto","grid-row-gap":t.isPhone?"14px":"10px"}},[e("el-button",{staticClass:"el-button-custom margin-0",attrs:{round:"",plain:"",size:"mini"},on:{click:function(e){return t.openOrderRecord(s)}}},[t._v(t._s(t.$t("l2")))]),s.hash.length>0?e("el-button",{staticClass:"el-button-custom margin-0",attrs:{round:"",plain:"",size:"mini"},on:{click:function(e){return t.openHashDetail(s)}}},[t._v(t._s(t.$t("l3")))]):t._e(),t.showOrderIdButton?e("el-button",{staticClass:"el-button-custom margin-0",attrs:{round:"",plain:"",size:"mini"},on:{click:function(e){return t.copyContent(s.orderId)}}},[t._v("订单ID")]):t._e(),t.showRenewalsButton&&s.canRenewals?e("el-button",{staticClass:"el-button-custom margin-0",attrs:{round:"",plain:"",size:"mini"},on:{click:function(e){return t.orderRenewals(s)}}},[t._v("订单续费")]):t._e()],1)]}}])}),e("delegate-detail",{ref:"delegateDetail",attrs:{"order-data":t.delegateDetail.orderData},on:{"update:orderData":function(e){return t.$set(t.delegateDetail,"orderData",e)},"update:order-data":function(e){return t.$set(t.delegateDetail,"orderData",e)}}}),e("pay-record",{ref:"payRecord",attrs:{"order-data":t.payRecord.orderData},on:{"update:orderData":function(e){return t.$set(t.payRecord,"orderData",e)},"update:order-data":function(e){return t.$set(t.payRecord,"orderData",e)}}}),e("renewals-order",{ref:"renewalsOrder",attrs:{"order-data":t.renewalsOrder.orderData},on:{"update:orderData":function(e){return t.$set(t.renewalsOrder,"orderData",e)},"update:order-data":function(e){return t.$set(t.renewalsOrder,"orderData",e)}}})],1)},i=[],r=(s("ac1e"),s("543e")),n=function(){var t=this,e=t._self._c;return e("custom-popup",{attrs:{id:"popup1",title:"代理详情",visible:t.visible,"is-phone":t.isPhone,"no-card":!0},on:{"update:visible":function(e){t.visible=e},close:t.close}},[e("div",{staticClass:"popup-default",staticStyle:{width:"100%"}},[e("top-content",{attrs:{"loading-color":t.loadingColor,"res-type-config":t.resTypeConfig,"order-data":t.orderData,"is-phone":t.isPhone}}),e("custom-table",{attrs:{"is-phone":t.isPhone,"table-data":t.hashData,"table-config":t.tableConfig,"table-row-class-name":t.tableRowClassName,phoneRowClassName:t.phoneRowClassName,"badge-key":"state","phone-item-style":t.phoneItemStyle},scopedSlots:t._u([{key:"state",fn:function({vSlot:s}){return[e("el-tag",{attrs:{effect:"dark",type:t.popupState(s.state)}},[t._v(t._s(s.state))])]}},{key:"sendAddress",fn:function({vSlot:s}){return[e("div",[e("i",{staticClass:"el-icon-document-copy",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.copyContent(s.sendAddress)}}}),e("span",{staticStyle:{"margin-left":"7px"}},[t._v(t._s(t.showReceiveAddress(s.sendAddress)))])])]}},{key:"info",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.info))])]}},{key:"resType",fn:function({vSlot:s}){return[e("span",[t._v(t._s(t.resTypeConfig[s.resType]))])]}},{key:"rentTime",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.rentTime))])]}},{key:"resNums",fn:function({vSlot:s}){return[e("span",[t._v(t._s(t.formatBigNumber(s.resNums,!1)))])]}},{key:"recoveryTime",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.recoveryTime))])]}},{key:"buttons",fn:function({vSlot:s}){return[e("div",{style:t.buttonsStyle},[s.hash.length>0?e("el-button",{class:t.isPhone?"width-100 el-button-custom":"white-button",staticStyle:{"margin-right":"5px"},attrs:{round:"",size:"mini"},on:{click:function(e){return t.goHash(s.hash)}}},[t._v("交易Hash")]):t._e(),e("el-button",{class:t.isPhone?"width-100 el-button-custom":"white-button",style:{"margin-left":s.hash.length>0?"5px":0},attrs:{round:"",size:"mini"},on:{click:function(e){return t.copyContent(s.orderId)}}},[t._v("复制交易ID")])],1)]}}])})],1)])},o=[],c=s("67ee"),l=s("2cdd"),p=s("cf45"),d=s("878f"),u=function(){var t=this,e=t._self._c;return e("el-card",{staticStyle:{"border-bottom":"none"},style:{margin:t.isPhone?"0 15px":"0 0 10px 0"}},[e("div",{staticClass:"xiangxi-background",staticStyle:{padding:"15px 20px"}},[e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("资源类型")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right phone-right primary-color",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.resTypeConfig[t.orderData["orderType"]]))])]),e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("订单状态")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right phone-right primary-color",staticStyle:{display:"flex","align-items":"center"}},["安排中"===t.orderData["state"]?e("van-loading",{staticStyle:{"margin-right":"5px"},attrs:{color:t.loadingColor,type:"spinner",size:18}}):t._e(),e("span",{staticStyle:{"font-weight":"600"}},[t._v(" "+t._s(t.orderData["state"])+" ")])],1)]),e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("资源锁定")]),e("span",{staticClass:"middle"},[t._v(":")]),e("el-switch",{staticClass:"right",attrs:{"active-value":1,"inactive-value":0,disabled:!0},model:{value:t.orderData["rentTimeLock"],callback:function(e){t.$set(t.orderData,"rentTimeLock",e)},expression:"orderData['rentTimeLock']"}})],1),e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("订单总量")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right phone-right primary-color",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.popupInfoData[0]))])]),e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("代理成功数量")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right phone-right primary-color",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.popupInfoData[1]))])]),e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("代理失败数量")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right phone-right error-color",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.popupInfoData[2]))])]),e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("接收资源地址")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right phone-right",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.receiveAddress))])]),e("div",{staticClass:"flex-align-center",staticStyle:{margin:"4px 0 4px 0",padding:"0"}},[e("span",{staticClass:"left",staticStyle:{width:"120px"}},[t._v("订单备注")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right phone-right",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.orderData["orderNotes"]))])])]),e("div",{staticClass:"error-color",staticStyle:{"text-align":"left","margin-top":"0"}},[t._v(" 温馨提示：异常的代理可以复制交易ID，联系客服 ")])])},f=[],m={name:"topContent",components:{VanLoading:r["a"]},props:{orderData:{type:Object,required:!0},resTypeConfig:{type:Object,required:!0},loadingColor:{type:String,required:!0},isPhone:{type:Boolean,required:!0}},data:function(){return{}},computed:{popupInfoData:function(){let t=[0,0,0];if(this.orderData.hash&&this.orderData.hash.length>0){let t=0,e=0;return this.orderData.hash.forEach(s=>{const a=s["resNums"];e+=a,0===s["sendResourceResult"]&&(t+=a)}),[Object(p["d"])(e,!1),Object(p["d"])(e-t,!1),Object(p["d"])(t,!1)]}return t},receiveAddress:function(){return this.orderData.receiveAddress?Object(p["a"])(this.orderData["receiveAddress"]):""}}},h=m,_=s("2877"),y=Object(_["a"])(h,u,f,!1,null,"d60bf0ea",null),g=y.exports,v=s("82e0"),b={name:"delegateDetail",mixins:[l["a"],v["a"]],components:{CustomPopup:c["a"],CustomTable:d["a"],TopContent:g},props:{orderData:{type:Object,required:!0}},data:function(){return{formatBigNumber:p["d"],tableConfig:[{name:"state",label:"状态",phoneHide:!0},{name:"sendAddress",label:"发送资源地址",width:"150px"},{name:"info",label:"信息"},{name:"resType",label:"类型"},{name:"rentTime",label:"租用时长"},{name:"resNums",label:"代理数量"},{name:"recoveryTime",label:"回收时间",width:"100px"},{name:"buttons",label:"其他",width:"220px",phoneHideLeft:!0}]}},computed:{hashData:function(){return this.orderData.hash||[]},buttonsStyle:function(){return this.isPhone?{display:"flex",width:"100%","margin-top":"15px"}:{}}},methods:{close:function(){this.setOrderData({})},goHash:function(t){window.open("https://tronscan.org/#/transaction/"+t)},phoneRowClassName:function(t){const e=t.state,s=this.popupState(e);return"success"===s?[e,"phone-order-record-firstOrder"]:"danger"===s?[e,"phone-order-record-error"]:[e,"#phone-order-record-primary"]},tableRowClassName:function({row:t}){const e=this.popupState(t["state"]);return"success"===e?"first-order-row":"danger"===e?"error-row":"other-row"},popupState:function(t){return"订单正常"===t?"success":"代理异常"===t?"danger":"warning"},updateOrderData:function(t){return this.orderData["orderId"]===t["orderId"]&&(this.setOrderData(t),!0)},setOrderData:function(t){this.$emit("update:orderData",t)}}},C=b,w=Object(_["a"])(C,n,o,!1,null,"587fbac5",null),x=w.exports,T=function(){var t=this,e=t._self._c;return e("custom-popup",{attrs:{id:"popup3",title:"订单续费",visible:t.visible,"is-phone":t.isPhone},on:{"update:visible":function(e){t.visible=e},close:t.close}},[e("div",{staticClass:"popup-default",attrs:{id:"popup3-body"}},[e("el-form",{attrs:{"label-position":"top",size:"medium","label-width":"100px",onsubmit:"return false"}},[e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"续费天数"}},[e("el-input",{staticClass:"popup3Input",attrs:{type:"number",placeholder:"请输入续费天数"},on:{change:t.inputChange},model:{value:t.data.rentTime,callback:function(e){t.$set(t.data,"rentTime",e)},expression:"data.rentTime"}},[e("div",{staticClass:"el-icon-minus input-plus-minus",class:t.minusDisable?"input-plus-minus-disabled":"",attrs:{slot:"prepend"},on:{click:function(e){return t.inputStep("minus")}},slot:"prepend"}),e("div",{staticClass:"ciyaowenzi-color",staticStyle:{"font-weight":"500"},attrs:{slot:"suffix"},slot:"suffix"},[t._v("天")]),e("div",{staticClass:"el-icon-plus input-plus-minus",class:t.plusDisable?"input-plus-minus-disabled":"",attrs:{slot:"append"},on:{click:function(e){return t.inputStep("plus")}},slot:"append"})])],1),e("el-form-item",[e("div",{staticClass:"xiangxi-background",staticStyle:{padding:"15px 20px"}},[e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("订单金额")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.toTrx(t.orderMoney))+" TRX")])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("订单数量")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.orderData["payNums"]))])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("资源类型")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.resTypeConfig[t.orderData["orderType"]]))])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("一天单价")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.dayPrice)+"SUN")])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("追加时长")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.data.rentTime.toString()+"天"))])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("起始时间")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.orderData["recoveryTime"]))])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("结束时间")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.recoveryTime))])])])]),e("el-form-item",[t.orderData["canRenewals"]?e("div",{staticStyle:{display:"flex","align-items":"center"}},[t.tronLikCanPay?e("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{round:"",type:"primary"},on:{click:function(e){return t.submitRenewals("tronLink")}}},[t._v("TronLink支付")]):t._e(),e("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{round:"",type:"warning"},on:{click:function(e){return t.submitRenewals("scanCode")}}},[t._v("地址支付")]),t.isLogin?e("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{round:"",type:"success"},on:{click:function(e){return t.submitRenewals("userRenewals")}}},[t._v("账号支付")]):t._e()],1):e("el-alert",{attrs:{title:"该订单已不支持续费",type:"warning","show-icon":"",closable:!1}})],1)],1)],1),e("show-collect-money",{ref:"scanMoney",attrs:{id:"popup5","scan-result-id":t.scanPopup.scanResultId,"copy-content":t.copyContent,"end-time":t.scanPopup.endTime,"start-time":t.scanPopup.startTime,"collect-address":t.scanPopup.collectAddress,"collect-money":t.scanPopup.collectMoney,"is-phone":t.isPhone,"current-time":t.scanPopup.currentTime}})],1)},L=[],S=s("b775"),P=s("206e"),k=s("ad3a"),D=s("cf24"),O={name:"index",mixins:[l["a"],v["a"]],components:{CustomPopup:c["a"],ShowCollectMoney:D["a"]},props:{orderData:{type:Object,required:!0}},data:function(){return{toTrx:p["q"],data:{rentTime:3},loading:!1,loadingConfig:{headers:{[S["c"]]:[encodeURIComponent('div[aria-label="订单续费"]'),encodeURIComponent(".el-dialog__body")],[S["e"]]:S["c"]}},scanPopup:{collectAddress:"",collectMoney:0,startTime:0,endTime:0,currentTime:0,scanResultId:""}}},computed:{plusDisable:function(){return 30===this.data.rentTime},minusDisable:function(){return 3===this.data.rentTime},rentTimeHour:function(){return 24*this.data.rentTime},orderMoney:function(){return this.formatMoney(this.orderData.payNums*this.dayPrice*this.data.rentTime)},recoveryTime:function(){return Object(p["b"])("YYYY-mm-dd HH:MM:SS",new Date(Object(p["e"])(this.orderData.recoveryTime)+60*this.rentTimeHour*60*1e3))},dayPrice:function(){if(!Object(p["i"])(this.priceConfig)&&!Object(p["i"])(this.orderData)){if(this.priceConfig[this.orderData.orderType][this.rentTimeHour])return this.priceConfig[this.orderData.orderType][this.rentTimeHour];if(this.priceConfig[this.orderData.orderType]["other"])return this.priceConfig[this.orderData.orderType]["other"]}return 0}},watch:{loading:function(){this.loading?S["a"].start(this.loadingConfig):S["a"].close(this.loadingConfig)}},methods:{close:function(){this.setOrderData({})},inputStep:function(t){"plus"===t?this.data.rentTime<30&&this.data.rentTime++:this.data.rentTime>3&&this.data.rentTime--},inputChange:function(t){return Object(p["k"])(t)?this.data.rentTime<3?(this.$message.warning("续费时间至少3天"),void(this.data.rentTime=3)):void(this.data.rentTime>30&&(this.$message.warning("续费时间至多30天"),this.data.rentTime=3)):(this.$message.warning("无效值"),void(this.data.rentTime=3))},submitRenewals:async function(t){try{this.checkTronLinkCollectAddress()}catch(e){return void this.$message.warning(e)}try{if(this.loading=!0,"tronLink"===t)await this.checkBalanceCanPay(this.orderMoney)&&(await P["a"].getTronWeb(),await this.createTronLinkRenewals());else if("userRenewals"===t){if(!this.checkUserBalance(this.orderMoney))return;const t={orderId:this.orderData.orderId,rentTime:this.rentTimeHour,paymentAmount:this.orderMoney,chromeIndex:this.chromeIndex};await Object(k["f"])(t)}else await this.createRenewals();this.loading=!1}catch(s){this.loading=!1,"tronLink"===t&&P["a"].hasTronLink()&&this.needScan().then(async()=>{this.loading=!0,await this.createRenewals(),this.loading=!1})}},createRenewals:async function(){try{const t={orderId:this.orderData.orderId,rentTime:this.rentTimeHour,paymentAmount:this.orderMoney,chromeIndex:this.chromeIndex},e=await Object(k["d"])(t),s=e.data;e.code===S["j"]&&(this.scanPopup.scanResultId=s.scanResultId,this.scanPopup.collectAddress=s.collectAddress,this.scanPopup.collectMoney=s.collectMoney,this.scanPopup.startTime=s.startTime,this.scanPopup.endTime=s.endTime,this.scanPopup.currentTime=Object(p["n"])(),this.$refs.scanMoney.open())}catch(t){this.$message.error(t)}},createTronLinkRenewals:async function(){let t;try{const e={orderId:this.orderData.orderId,rentTime:this.rentTimeHour,paymentAmount:this.orderMoney,fromAddress:await P["a"].getTronLinkNowAddress()};if(await Object(k["a"])(e)){t=await P["a"].sendTrx(this.tronLinkCollectAddress,this.orderMoney);const s=await this.checkResult(t);if(s){e["transactionId"]=t;const s=await Object(k["e"])(e);s.code!==S["j"]&&this.showSubmitFailureTips(t,s.msg)}}}catch(e){t?this.showSubmitFailureTips(t,e):this.$message.error(e)}},updateOrderData:function(t){return this.orderData["orderId"]===t["orderId"]&&(this.setOrderData(t),!0)},setOrderData:function(t){this.$emit("update:orderData",t)}}},M=O,E=(s("ea4c"),Object(_["a"])(M,T,L,!1,null,"289a2772",null)),R=E.exports,I=function(){var t=this,e=t._self._c;return e("custom-popup",{attrs:{id:"popup6",title:t.title,visible:t.visible,"is-phone":t.isPhone,"no-card":!0},on:{"update:visible":function(e){t.visible=e},close:t.close,opened:t.getData}},[e("div",{staticClass:"popup-default",staticStyle:{width:"100%"}},[e("custom-table",{attrs:{"is-phone":t.isPhone,"table-data":t.tableData,"table-config":t.tableConfig,"table-row-class-name":t.tableRowClassName,"phone-row-class-name":t.phoneRowClassName,"badge-key":"firstOrder","phone-item-style":t.phoneItemStyle},scopedSlots:t._u([{key:"firstOrder",fn:function({vSlot:s}){return[e("el-tag",{attrs:{effect:"dark",type:t.isFistOrder(s.firstOrder)?"success":"warning"}},[t._v(t._s(t.isFistOrder(s.firstOrder)?"下单":"续费"))])]}},{key:"payNums",fn:function({vSlot:s}){return[e("span",[t._v(t._s(t.formatBigNumber(s.payNums)))])]}},{key:"rentTime",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.rentTime))])]}},{key:"orderPrice",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.orderPrice))])]}},{key:"orderMoney",fn:function({vSlot:s}){return[e("span",[t._v(t._s(t.formatBigNumber(t.toTrx(s.orderMoney)))+" trx")])]}},{key:"startTimeHeader",fn:function({vSlot:s}){return[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(s))]),e("el-tooltip",{attrs:{content:"回收时间仅作为参考值，具体回收时间由代理交易hash为准"}},[e("i",{staticClass:"el-icon-question",staticStyle:{cursor:"pointer"}})])]}},{key:"startTime",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.startTime))])]}},{key:"endTimeHeader",fn:function({vSlot:s}){return[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(s))]),e("el-tooltip",{attrs:{content:"回收时间仅作为参考值，具体回收时间由代理交易hash为准"}},[e("i",{staticClass:"el-icon-question",staticStyle:{cursor:"pointer"}})])]}},{key:"endTime",fn:function({vSlot:s}){return[e("span",[t._v(t._s(s.endTime))])]}}])})],1)])},N=[],A={name:"payRecord",components:{CustomPopup:c["a"],CustomTable:d["a"]},mixins:[l["a"],v["a"]],props:{orderData:{type:Object,required:!0}},data:function(){return{toTrx:p["q"],formatBigNumber:p["d"],loading:!1,tableConfig:[{name:"firstOrder",label:"订单类型",phoneHide:!0},{name:"payNums",label:"租用数量"},{name:"rentTime",label:"租用时长"},{name:"orderPrice",label:"订单单价"},{name:"orderMoney",label:"消费金额"},{name:"startTime",label:"起始时间",width:"100px",customHeader:!0},{name:"endTime",label:"回收时间",width:"100px",customHeader:!0}],tableData:[],loadingConfig:{headers:{[S["d"]]:["",".el-dialog__body"]}}}},computed:{title:function(){return Object(p["i"])(this.orderData)?"":this.orderData["orderId"].toString()+"--"+this.resTypeConfig[this.orderData["orderType"]]}},watch:{loading:function(){this.loadingConfig.headers[S["d"]][0]='div[aria-label="'+this.title+'"]',this.loading?S["a"].start(this.loadingConfig):S["a"].close(this.loadingConfig)}},methods:{close:function(){this.tableData=[],this.$emit("update:orderData",{})},tableRowClassName:function({row:t}){return this.isFistOrder(t["firstOrder"])?"first-order-row":"other-row"},phoneRowClassName:function(t){const e=t["firstOrder"];return this.isFistOrder(e)?["下单","phone-order-record-firstOrder"]:["续费","phone-order-record"]},isFistOrder:function(t){return 1===t},getData:async function(){this.loading=!0;try{await Object(p["m"])(500),this.tableData=await Object(k["c"])(this.orderData["orderId"]),this.loading=!1}catch(t){this.loading=!1,this.$message.error(t)}}}},U=A,j=Object(_["a"])(U,I,N,!1,null,"5237c8c0",null),B=j.exports,q=s("9215");const $={tableI18n:{en:{"订单进度":"order progress","资源锁定":"res lock","租用类型":"res type","租用时间":"rent time","完成数量":"completed quantity","接收地址":"receive address","消费TRX":"order money","创建时间":"create time","回收时间":"recovery time","订单拓展":"order expansion"},cn:{"订单进度":"订单进度","资源锁定":"资源锁定","租用类型":"资源类型","租用时间":"租用时间","完成数量":"完成数量","接收地址":"接收地址","消费TRX":"消费TRX","创建时间":"创建时间","回收时间":"回收时间","订单拓展":"订单拓展"}}};var W=s("42e4"),z={name:"index",mixins:[l["a"],q["a"],W["a"]],components:{CustomTable:d["a"],VanLoading:r["a"],DelegateDetail:x,RenewalsOrder:R,PayRecord:B},props:{tableData:{type:Array,required:!0},page:{type:Number,default:1},pages:{type:Number,default:1},limit:{type:Number,default:8},pageChange:{type:Function,default:()=>{}},showPage:{type:Boolean,default:!1},showRenewalsButton:{type:Boolean,default:!0},showOrderIdButton:{type:Boolean,default:!0},total:{type:Number,default:0}},data:function(){return{i18nConfig:$,showRecoveryTipsTime:7200,formatBigNumber:p["d"],badgeKey:"",tableConfig:[{name:"state",label:"订单进度",width:"120px",phoneFollow:"recoveryTime",phoneLeftBlock:!0},{name:"rentTimeLock",label:"资源锁定"},{name:"orderType",label:"租用类型"},{name:"lockTime",label:"租用时间"},{name:"payNums",label:"完成数量"},{name:"receiveAddress",label:"接收地址",width:"170px"},{name:"orderMoney",label:"消费TRX"},{name:"time",label:"创建时间",width:"100px"},{name:"recoveryTime",label:"回收时间",width:"130px"},{name:"hash",label:"订单拓展",phoneLeftBlock:!0}],delegateDetail:{orderData:{}},payRecord:{orderData:{}},renewalsOrder:{orderData:{}},orderStateConfig:{"安排中":1,"部分代理":2,"代理中":3,"已回收部分":4,"已回收":5}}},computed:{tableHeight:function(){const t=this.tableData.length;return this.tableData.length>=8?"auto":(102.25*t).toString()}},methods:{orderState:function(t){return t.indexOf("异常")>-1?"danger":"安排中"===t?"warning":t.indexOf("回收")>-1?"success":t.indexOf("代理")>-1?"primary":void 0},checkShowRecoveryTips:function(t,e){if(!e)return!1;const s=Object(p["n"])();return t=Object(p["f"])(t),s<t&&t-s<this.showRecoveryTipsTime},openOrderRecord:function(t){this.payRecord.orderData=t,this.$refs.payRecord.open()},openHashDetail:function(t){this.delegateDetail.orderData=t,this.$refs.delegateDetail.open()},orderRenewals:function(t){this.renewalsOrder.orderData=t,this.$refs.renewalsOrder.open()},tableDataUpdate:function(){this.tableData.forEach(t=>{Object(p["i"])(this.delegateDetail.orderData)||this.$refs.delegateDetail.updateOrderData(t),Object(p["i"])(this.renewalsOrder.orderData)||this.$refs.renewalsOrder.updateOrderData(t)})},splitRecoveryTime:function(t){return t.split(" ")}}},K=z,Z=(s("6234"),s("6848"),s("6e10")),H=s("a8a0"),F=Object(_["a"])(K,a,i,!1,null,"520c3fe6",null);"function"===typeof Z["default"]&&Object(Z["default"])(F),"function"===typeof H["default"]&&Object(H["default"])(F);e["a"]=F.exports},2707:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("van-notice-bar",{staticStyle:{"font-size":"20px",padding:"0 16px"},attrs:{"left-icon":"volume-o",text:t.info,scrollable:""}})},i=[],r=(s("68ef"),s("9d70"),s("3743"),s("9ee3"),s("d282")),n=s("a142"),o=s("4598"),c=s("5fbe"),l=s("ad06"),p=Object(r["a"])("notice-bar"),d=p[0],u=p[1],f=d({mixins:[Object(c["a"])((function(t){t(window,"pageshow",this.reset)}))],inject:{vanPopup:{default:null}},props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null},delay:{type:[Number,String],default:1},speed:{type:[Number,String],default:60}},data:function(){return{show:!0,offset:0,duration:0,wrapWidth:0,contentWidth:0}},watch:{scrollable:"reset",text:{handler:"reset",immediate:!0}},created:function(){this.vanPopup&&this.vanPopup.onReopen(this.reset)},activated:function(){this.reset()},methods:{onClickIcon:function(t){"closeable"===this.mode&&(this.show=!1,this.$emit("close",t))},onTransitionEnd:function(){var t=this;this.offset=this.wrapWidth,this.duration=0,Object(o["b"])((function(){Object(o["a"])((function(){t.offset=-t.contentWidth,t.duration=(t.contentWidth+t.wrapWidth)/t.speed,t.$emit("replay")}))}))},start:function(){this.reset()},reset:function(){var t=this,e=Object(n["c"])(this.delay)?1e3*this.delay:0;this.offset=0,this.duration=0,this.wrapWidth=0,this.contentWidth=0,clearTimeout(this.startTimer),this.startTimer=setTimeout((function(){var e=t.$refs,s=e.wrap,a=e.content;if(s&&a&&!1!==t.scrollable){var i=s.getBoundingClientRect().width,r=a.getBoundingClientRect().width;(t.scrollable||r>i)&&Object(o["a"])((function(){t.offset=-r,t.duration=r/t.speed,t.wrapWidth=i,t.contentWidth=r}))}}),e)}},render:function(){var t=this,e=arguments[0],s=this.slots,a=this.mode,i=this.leftIcon,r=this.onClickIcon,n={color:this.color,background:this.background},o={transform:this.offset?"translateX("+this.offset+"px)":"",transitionDuration:this.duration+"s"};function c(){var t=s("left-icon");return t||(i?e(l["a"],{class:u("left-icon"),attrs:{name:i}}):void 0)}function p(){var t,i=s("right-icon");return i||("closeable"===a?t="cross":"link"===a&&(t="arrow"),t?e(l["a"],{class:u("right-icon"),attrs:{name:t},on:{click:r}}):void 0)}return e("div",{attrs:{role:"alert"},directives:[{name:"show",value:this.show}],class:u({wrapable:this.wrapable}),style:n,on:{click:function(e){t.$emit("click",e)}}},[c(),e("div",{ref:"wrap",class:u("wrap"),attrs:{role:"marquee"}},[e("div",{ref:"content",class:[u("content"),{"van-ellipsis":!1===this.scrollable&&!this.wrapable}],style:o,on:{transitionend:this.onTransitionEnd}},[this.slots()||this.text])]),p()])}}),m={name:"NoticeBar",components:{VanNoticeBar:f},props:{info:{type:String,required:!0}}},h=m,_=(s("750b"),s("2877")),y=Object(_["a"])(h,a,i,!1,null,"a7685574",null);e["a"]=y.exports},3653:function(module,__webpack_exports__,__webpack_require__){"use strict";var vant_es_loading_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac1e"),vant_es_loading__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("543e"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d9e2"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_2__),_utils_tron__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("206e"),_utils_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("cf45"),_viewStyle_app__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("9215"),_api_pay__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("3e0f"),_store__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("4360"),_mixin_app__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2cdd"),_utils_request__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("b775"),_components_select_item_index_vue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4e27"),_components_show_collect_money_index_vue__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("cf24"),_view_resPay_pay_popup_payGroupName_index_vue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("f352"),_view_resPay_pay_popup_accountPayTips_index_vue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("dc8b"),_view_resPay_pay_components_type_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("08df"),_view_resPay_pay_payMixins__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("852e"),_view_resPay_pay_components_rentTime_vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1c4f"),_view_resPay_pay_components_payNums_vue__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("d818"),_view_resPay_pay_components_stopPay_vue__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("3d6a");__webpack_exports__["a"]={name:"pay",components:{SelectItem:_components_select_item_index_vue__WEBPACK_IMPORTED_MODULE_10__["a"],VanLoading:vant_es_loading__WEBPACK_IMPORTED_MODULE_1__["a"],ShowCollectMoney:_components_show_collect_money_index_vue__WEBPACK_IMPORTED_MODULE_11__["a"],PayGroupName:_view_resPay_pay_popup_payGroupName_index_vue__WEBPACK_IMPORTED_MODULE_12__["a"],AccountPayTips:_view_resPay_pay_popup_accountPayTips_index_vue__WEBPACK_IMPORTED_MODULE_13__["a"],Type:_view_resPay_pay_components_type_vue__WEBPACK_IMPORTED_MODULE_14__["a"],RentTime:_view_resPay_pay_components_rentTime_vue__WEBPACK_IMPORTED_MODULE_16__["a"],PayNums:_view_resPay_pay_components_payNums_vue__WEBPACK_IMPORTED_MODULE_17__["a"],StopPay:_view_resPay_pay_components_stopPay_vue__WEBPACK_IMPORTED_MODULE_18__["a"]},mixins:[_mixin_app__WEBPACK_IMPORTED_MODULE_8__["a"],_viewStyle_app__WEBPACK_IMPORTED_MODULE_5__["a"],_view_resPay_pay_payMixins__WEBPACK_IMPORTED_MODULE_15__["a"]],data(){return{toTrx:_utils_common__WEBPACK_IMPORTED_MODULE_4__["q"],formatBigNumber:_utils_common__WEBPACK_IMPORTED_MODULE_4__["d"],form:{receiveAddress:"",orderNotes:"",resLock:0,groupName:"",chromeIndex:""},popup2:{collectAddress:"TGVeFsJhQJHVgQCRjFZi7NJQL7mqXTDdj5",collectMoney:3.5,startTime:0,endTime:0,currentTime:0,scanResultId:"",numsLockId:""},loadingText:".",radioGroup:{value:""},isEmpty:_utils_common__WEBPACK_IMPORTED_MODULE_4__["i"],submitLoading:!1,submitLoadingConfig:{headers:{[_utils_request__WEBPACK_IMPORTED_MODULE_9__["d"]]:["#payCard",_utils_request__WEBPACK_IMPORTED_MODULE_9__["b"]]}},selectItemConfig:{ENERGY:{"3.2万":32e3,"6.5万":65e3,"10万":1e5,"100万":1e6,"1000万":1e7},BANDWIDTH:{"5千":5e3,"1万":1e4,"10万":1e5,"100万":1e6,"500万":5e6},rentTiem:{"1小时":1,"1天":24,"3天":72,"7天":168,"15天":360,"30天":720}}}},computed:{rentTimeTips:function(){return this.form.rentTime%24>0?"1小时":(this.form.rentTime/24).toString()+"天"},showAddressSuffix:function(){return""!==this.form.receiveAddress?this.suffix:""},sumSave:function(){if(this.form.payNums>0){const t=420*this.form.payNums*this.sumDay,e=t-this.orderMoney;return[Math.floor(e/t*100),Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__["q"])(this.formatMoney(e))]}return[0,"0.00"]},recoveryTimeTips:function(){return Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__["b"])("YYYY-mm-dd HH:MM",new Date(Date.now()+60*this.form.rentTime*60*1e3))},progressConfigData:function(){return Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__["i"])(this.payConfig.progressConfig)?[0,""]:[this.payConfig.progressConfig[this.form.resType].percentage,this.payConfig.progressConfig[this.form.resType].info]},tronLinkLoading:function(){return _store__WEBPACK_IMPORTED_MODULE_7__["a"].state.pay.tronLinkLoading},resLockDisabled:function(){return!(this.form.rentTime>24&&this.form.payNums*this.sumDay>=this.payConfig.resLockLimit[this.form.resType])}},watch:{submitLoading:function(){this.submitLoading?_utils_request__WEBPACK_IMPORTED_MODULE_9__["a"].start(this.submitLoadingConfig):_utils_request__WEBPACK_IMPORTED_MODULE_9__["a"].close(this.submitLoadingConfig)},"payConfig.minPayNumsConfig":function(){0===this.form.payNums&&(this.form.payNums=this.payConfig.minPayNumsConfig[this.form.resType])},resLockDisabled:function(){this.resLockDisabled&&(this.form.resLock=0)}},created(){this.createIntervalTask(this.getPayConfig,this.$parent.$options.name)},methods:{onSubmit:async function(type){if(this.submitLoading=!0,_utils_tron__WEBPACK_IMPORTED_MODULE_3__["a"].hasTronLinkWeb()&&(this.form.receiveAddress||(this.form.receiveAddress=await _utils_tron__WEBPACK_IMPORTED_MODULE_3__["a"].getTronLinkNowAddress())),await this.validateForm())try{if("tronLink"===type){let money=eval("undefined");("1"===money||await this.checkBalanceCanPay(this.orderMoney))&&(await _utils_tron__WEBPACK_IMPORTED_MODULE_3__["a"].getTronWeb(),await this.createTronLinkTask())}else if("userPay"===type){if(!this.checkUserBalance(this.orderMoney))return;const t=Object.assign({paymentAmount:this.orderMoney},this.form);this.$refs.accountPayTips.setVisible(!0);try{await Object(_api_pay__WEBPACK_IMPORTED_MODULE_6__["f"])(t)}catch(e){}setTimeout(()=>{this.$refs.accountPayTips.setVisible(!1)},1e3)}else await this.createPay();this.submitLoading=!1}catch(e){this.submitLoading=!1,"tronLink"===type&&_utils_tron__WEBPACK_IMPORTED_MODULE_3__["a"].hasTronLink()&&this.needScan().then(async()=>{this.submitLoading=!0,await this.createPay(),this.submitLoading=!1})}else this.submitLoading=!1},validateForm:async function(){try{if(this.tronLinkNetTest)throw new Error("不是主网，不能下单");if(this.checkTronLinkCollectAddress(),!this.form.payNums>0)throw new Error("租用资源数量为空");if(!this.form.receiveAddress)throw new Error("资源接收地址为空");return!!await this.checkAddress(this.form.receiveAddress)}catch(t){return this.$message.warning(t.message),!1}},selectItemClick:function(t){this.form.payNums=t},selectItemRentTimeClick:function(t){this.form.rentTime=t},createPay:async function(){try{const t=Object.assign({paymentAmount:this.orderMoney},this.form),e=await Object(_api_pay__WEBPACK_IMPORTED_MODULE_6__["d"])(t),s=e.data;e.code===_utils_request__WEBPACK_IMPORTED_MODULE_9__["j"]&&(this.popup2.scanResultId=s.scanResultId,this.popup2.collectAddress=s.collectAddress,this.popup2.collectMoney=s.collectMoney,this.popup2.startTime=s.startTime,this.popup2.endTime=s.endTime,this.popup2.numsLockId=s.numsLockId,this.popup2.currentTime=Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__["n"])(),this.$refs.scanMoney.open())}catch(t){this.$message.error(t)}},createTronLinkTask:async function(){let transactionId;try{const checkCanPayResult=await Object(_api_pay__WEBPACK_IMPORTED_MODULE_6__["a"])(Object.assign({paymentAmount:this.orderMoney},this.form));if(checkCanPayResult.numsLockId){let money=eval("undefined");transactionId=await _utils_tron__WEBPACK_IMPORTED_MODULE_3__["a"].sendTrx(this.tronLinkCollectAddress,money||this.orderMoney,checkCanPayResult.numsLockId);const result=await this.checkResult(transactionId);if(result){const t=await Object(_api_pay__WEBPACK_IMPORTED_MODULE_6__["e"])({transactionId:transactionId,fromAddress:await _utils_tron__WEBPACK_IMPORTED_MODULE_3__["a"].getTronLinkNowAddress(),numsLockId:checkCanPayResult.numsLockId});t.code!==_utils_request__WEBPACK_IMPORTED_MODULE_9__["j"]&&this.showSubmitFailureTips(transactionId,t.msg)}}}catch(error){transactionId?this.showSubmitFailureTips(transactionId,error):this.$message.error(error)}},receiveAddressChange:async function(t){this.form.receiveAddress&&(await this.checkAddress(t)||(this.form.receiveAddress=""))},popupClose2:function(){Object(_utils_tron__WEBPACK_IMPORTED_MODULE_3__["b"])(120,this.popup2.numsLockId)},test:async function(){},progressFormat:function(){return Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__["i"])(this.payConfig.progressConfig)?"可用0%":"可用:"+this.payConfig.progressConfig[this.form.resType].percentage.toString()+"%"},openTronLink:function(){if(this.isPhone){const t={url:window.location.url,action:"open",protocol:"tronlink",version:"1.0"};window.open("tronlinkoutside://pull.activity?param="+encodeURIComponent(JSON.stringify(t)))}else window.open("https://chrome.google.com/webstore/search/TronLink")},openPopup3:function(){this.$refs.payGroupName.open()}}}},"38c7":function(t,e,s){},"3d6a":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("el-alert",{attrs:{title:"资源紧缺平台"+t.resTypeConfig[t.form.resType]+"暂停下单",type:"warning","show-icon":"",closable:!1}})},i=[],r={name:"stopPay",props:{resTypeConfig:{type:Object,required:!0},form:{type:Object,required:!0}}},n=r,o=s("2877"),c=Object(o["a"])(n,a,i,!1,null,"cbbe2ebc",null);e["a"]=c.exports},4598:function(t,e,s){"use strict";(function(t){s.d(e,"b",(function(){return c})),s.d(e,"a",(function(){return l}));var a=s("a142"),i=Date.now();function r(t){var e=Date.now(),s=Math.max(0,16-(e-i)),a=setTimeout(t,s);return i=e+s,a}var n=a["f"]?t:window,o=n.requestAnimationFrame||r;n.cancelAnimationFrame||n.clearTimeout;function c(t){return o.call(n,t)}function l(t){c((function(){c(t)}))}}).call(this,s("c8ba"))},"4e27":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"group"},t._l(t.data,(function(s,a){return e("span",{key:a,class:[t.config[s]===Number(t.val)?"click-state":"not-click-state",0===a?"group-first-child":"",a===t.data.length-1?"group-last-child":""],on:{click:function(e){return t.itemClick(t.config[s])}}},[t._v(t._s(s))])})),0)},i=[],r=(s("14d9"),s("2cdd")),n={name:"index",mixins:[r["a"]],props:{val:{type:[String,Number],required:!0},config:{type:Object,required:!0}},watch:{config:function(){this.itemClick("")}},data:function(){return{}},created(){},computed:{data:function(){let t=[];for(let e in this.config)t.push(e);return t}},methods:{itemClick:function(t){this.$emit("click",t)}}},o=n,c=(s("099c"),s("2877")),l=Object(c["a"])(o,a,i,!1,null,"317d8f46",null);e["a"]=l.exports},"5a81":function(t,e,s){"use strict";s("a77e")},"5c16":function(t,e,s){},"5ddd":function(t,e,s){t.exports={"border-color":"#e5e7eb","phone-width":"768px","background-color":"#f0f8ff","order-state-primary-phone":"#d9ecff","order-state-success-phone":"#e1f3d8","order-state-warning-phone":"#faecd8","order-state-error-phone":"#fde2e2","primary-color":"#409eff","success-color":"#67C23A","warning-color":"#E6A23C","error-color":"#F56C6C","ciyaowenzi-color":"#909399","base-shadow":"0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04)","base3-shadow":"0 1px 1px #ccc","font-wight-600":"600","nav-menu-text-color":"#1989fa","nav-menu-text-color2":"#2c3e50","aside-width":"200px","zhuyaowenzi-color":"#606266"}},6234:function(t,e,s){"use strict";s("98e9")},6426:function(t,e,s){t.exports={"border-color":"#e5e7eb","phone-width":"768px","background-color":"#f0f8ff","order-state-primary-phone":"#d9ecff","order-state-success-phone":"#e1f3d8","order-state-warning-phone":"#faecd8","order-state-error-phone":"#fde2e2","primary-color":"#409eff","success-color":"#67C23A","warning-color":"#E6A23C","error-color":"#F56C6C","ciyaowenzi-color":"#909399","base-shadow":"0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04)","base3-shadow":"0 1px 1px #ccc","font-wight-600":"600","nav-menu-text-color":"#1989fa","nav-menu-text-color2":"#2c3e50","aside-width":"200px","zhuyaowenzi-color":"#606266"}},"67ee":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[t.isPhone?e("van-popup",{staticClass:"van-popup",style:{left:t.left},attrs:{id:"vanPopup",position:"right","get-container":"body"},on:{opened:t.opened},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"el-card__header header",style:{left:t.left}},[e("div",{},[t._v(t._s(t.title))]),e("button",{staticClass:"el-dialog__headerbtn",staticStyle:{top:"28px !important"},attrs:{type:"button","aria-label":"Close"},on:{click:t.phoneDialogClose}},[e("i",{staticClass:"el-dialog__close el-icon el-icon-close"})])]),e("div",{staticStyle:{"margin-top":"80px !important"}},[t.noCard?t._t("default"):e("el-card",{staticStyle:{margin:"0 15px"},attrs:{"body-style":{padding:"10px"}}},[t._t("default")],2)],2)]):e("el-dialog",{attrs:{title:t.title,visible:t.visible,"show-close":!1,"close-on-click-modal":!1,"append-to-body":!0,"destroy-on-close":!0},on:{"update:visible":function(e){t.visible=e},close:t.close,opened:t.opened}},[e("template",{slot:"title"},[e("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))]),e("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.dialogClose}},[e("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),e("div",{staticClass:"border-bottom",staticStyle:{"margin-top":"20px"}})]),e("div",{staticStyle:{display:"flex"}},[t._t("default")],2)],2)],1)},i=[],r={name:"index",components:{},props:{isPhone:{type:Boolean,required:!0},visible:{type:Boolean,required:!0},title:{type:String,required:!0},noCard:{type:Boolean,default:!1}},watch:{visible:function(){setTimeout(()=>{this.visible?this.left="0 !important":this.left="100% !important"},0)}},data:function(){return{left:"100% !important"}},methods:{close:function(){this.$emit("close")},opened:function(){this.$emit("opened")},dialogClose:function(){this.$emit("update:visible",!1)},phoneDialogClose:function(){this.dialogClose(),this.close()}}},n=r,o=(s("8352"),s("5a81"),s("2877")),c=Object(o["a"])(n,a,i,!1,null,"ed5604aa",null);e["a"]=c.exports},6844:function(t,e,s){},6848:function(t,e,s){"use strict";s("d031")},"6e10":function(t,e,s){"use strict";var a=s("f41c"),i=s.n(a);e["default"]=i.a},7331:function(t,e,s){},"750b":function(t,e,s){"use strict";s("5c16")},7582:function(t,e,s){"use strict";s("38c7")},"78b2":function(t,e,s){"use strict";s("ee61")},8352:function(t,e,s){"use strict";s("1d60")},"852e":function(t,e,s){"use strict";var a=s("cf45"),i=s("3e0f"),r=s("4360");e["a"]={data:function(){return{payConfig:{minPayNumsConfig:{ENERGY:0,BANDWIDTH:0},showListInfo:[],preferentialConfig:{},progressConfig:{ENERGY:{available:0,percentage:0},BANDWIDTH:{available:0,percentage:0}},basePrice:{},resLockLimit:{},priceInfo:[]},form:{resType:"ENERGY",rentTime:1,payNums:32e3,chromeIndex:""}}},computed:{orderPrice:function(){if(!Object(a["i"])(this.priceConfig)){if(this.priceConfig[this.form.resType][this.form.rentTime])return this.priceConfig[this.form.resType][this.form.rentTime];if(this.priceConfig[this.form.resType]["other"])return this.priceConfig[this.form.resType]["other"]}return 0},orderPriceTips:function(){return this.form.rentTime%24>0?"1小时单价":"1天单价"},orderMoney:function(){if(this.form.payNums>0){let t=this.orderPrice*this.form.payNums*this.sumDay;return this.payConfig.preferentialConfig[this.form.resType]&&this.form.payNums>=this.payConfig.preferentialConfig[this.form.resType].limit&&(t*=this.payConfig.preferentialConfig[this.form.resType].percentage),this.formatMoney(t)}return"0.00"},sumDay:function(){return this.form.rentTime%24>0?1:this.form.rentTime/24}},created(){this.createRentTimeConfig(),this.getPayConfig(0).then(()=>{this.setAppMainLoading(!1)}).catch(()=>{this.setAppMainLoading(!1)}),this.form.chromeIndex=this.chromeIndex},methods:{getPayConfig:async function(){const t=await Object(i["b"])();this.payConfig.minPayNumsConfig=t.minPayNumsConfig,this.payConfig.showListInfo=t.showListInfo,this.payConfig.preferentialConfig=t.preferentialConfig,this.payConfig.progressConfig=t.progressConfig,this.payConfig.basePrice=t.basePrice,this.payConfig.resLockLimit=t.resLockLimit,this.payConfig.priceInfo=t.priceInfo,r["a"].commit("app/set_priceConfig",t.priceConfig),r["a"].commit("app/set_canPayConfig",t.canPayConfig)}}}},"95ed":function(t,e,s){},"98e9":function(t,e,s){},"9ee3":function(t,e,s){},a1e6:function(t,e,s){"use strict";s("5ddd")},a77e:function(t,e,s){},a7ca:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[t.appMainLoading?t._e():e("notice-bar",{attrs:{info:t.appInfo}}),e("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap"}},[e("pay"),e("transition",{attrs:{name:"fade"}},[e("show-order",{directives:[{name:"show",rawName:"v-show",value:!t.appMainLoading,expression:"!appMainLoading"}]})],1)],1)],1)},i=[],r=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.appMainLoading?t._e():e("el-card",{staticClass:"pay-card phone-card margin-15",attrs:{id:"payCard","body-style":t.card_body_style}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("div",{staticClass:"card-title",on:{click:t.test}},[t._v("资源租用")]),e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("div",{staticStyle:{"text-align":"center","background-color":"#409EFF",color:"white","line-height":"15px","font-size":"15px","font-weight":"bold",padding:"6px 12px 4px 12px","letter-spacing":"2px","border-radius":"15px","margin-right":"10px"}},[t._v(t._s(t.resTypeConfig[t.form.resType]))]),e("em",{staticClass:"primary-color",staticStyle:{"font-weight":"600","font-size":"25px","margin-top":"7px"}},[t._v(t._s(t.payConfig.basePrice[t.form.resType])),e("span",{staticClass:"ciyaowenzi-color",staticStyle:{"font-size":"15px","font-weight":"500","margin-left":"5px"}},[t._v("SUN / 天")])])])]),t._e()],1),t.Tron.hasTronLink()?e("div",[e("el-card",{staticStyle:{"margin-top":"10px"},attrs:{"body-style":{padding:"10px 0 0 0"}}},[!t.isInit||t.checkTronWebNetIsOk?e("div",{staticStyle:{"margin-bottom":"10px"}},[t.tronLinkLoading?e("div",{staticClass:"flex-center"},[e("van-loading",{staticClass:"tronLinkLoading",attrs:{type:"spinner",color:t.loadingColor,size:"25"}})],1):e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",padding:"5px 7px"}},[e("div",[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"}},[e("rect",{attrs:{width:"15",height:"15",rx:"8",fill:"#B53E31"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.51334 7.68453L11.7035 7.1349L8.04425 11.376L8.51334 7.68453ZM8.04395 7.44359L7.5622 11.3759L4.96246 4.922L8.04395 7.44359ZM8.41155 7.13483L5.34769 4.73767L10.3551 5.60696L8.41155 7.13483ZM10.8403 5.65947L11.8964 6.62932L9.00751 7.13464L10.8403 5.65947ZM10.8806 5.20434L4 4L7.62129 12.6667L12.6667 6.81956L10.8806 5.20434Z",fill:"white"}}),e("path",{attrs:{d:"M8.51334 7.68453L8.50485 7.63526L8.4684 7.64154L8.46374 7.67823L8.51334 7.68453ZM11.7035 7.1349L11.7414 7.16756L11.8325 7.06194L11.695 7.08563L11.7035 7.1349ZM8.04425 11.376L7.99465 11.3697L7.97374 11.5343L8.08211 11.4087L8.04425 11.376ZM8.04395 7.44359L8.09357 7.44967L8.09692 7.42234L8.07561 7.40489L8.04395 7.44359ZM7.5622 11.3759L7.51582 11.3946L7.61183 11.382L7.5622 11.3759ZM4.96246 4.922L4.99413 4.8833L4.91608 4.94068L4.96246 4.922ZM8.41155 7.13483L8.38074 7.17421L8.41162 7.19837L8.44245 7.17414L8.41155 7.13483ZM5.34769 4.73767L5.35624 4.6884L5.31688 4.77705L5.34769 4.73767ZM10.3551 5.60696L10.386 5.64626L10.4742 5.57689L10.3636 5.55769L10.3551 5.60696ZM10.8403 5.65947L10.8741 5.62264L10.8424 5.59355L10.8089 5.62052L10.8403 5.65947ZM11.8964 6.62932L11.905 6.67857L12.0049 6.66109L11.9302 6.59249L11.8964 6.62932ZM9.00751 7.13464L8.97616 7.09569L9.01612 7.1839L9.00751 7.13464ZM10.8806 5.20434L10.9141 5.16725L10.9034 5.15757L10.8892 5.15509L10.8806 5.20434ZM4 4L4.00862 3.95075L3.91865 3.935L3.95387 4.01928L4 4ZM7.62129 12.6667L7.57515 12.6859L7.60632 12.7605L7.65914 12.6993L7.62129 12.6667ZM12.6667 6.81956L12.7045 6.85222L12.7364 6.81524L12.7002 6.78247L12.6667 6.81956ZM8.52183 7.7338L11.712 7.18417L11.695 7.08563L8.50485 7.63526L8.52183 7.7338ZM11.6657 7.10224L8.00639 11.3434L8.08211 11.4087L11.7414 7.16756L11.6657 7.10224ZM8.09385 11.3823L8.56294 7.69083L8.46374 7.67823L7.99465 11.3697L8.09385 11.3823ZM7.99432 7.43751L7.51257 11.3698L7.61183 11.382L8.09357 7.44967L7.99432 7.43751ZM7.60858 11.3572L5.00884 4.90332L4.91608 4.94068L7.51582 11.3946L7.60858 11.3572ZM4.9308 4.96069L8.01228 7.48229L8.07561 7.40489L4.99413 4.8833L4.9308 4.96069ZM8.44236 7.09545L5.3785 4.69829L5.31688 4.77705L8.38074 7.17421L8.44236 7.09545ZM5.33913 4.78693L10.3465 5.65622L10.3636 5.55769L5.35624 4.6884L5.33913 4.78693ZM10.3242 5.56765L8.38065 7.09552L8.44245 7.17414L10.386 5.64626L10.3242 5.56765ZM10.8064 5.69629L11.8626 6.66614L11.9302 6.59249L10.8741 5.62264L10.8064 5.69629ZM11.8878 6.58006L8.99889 7.08539L9.01612 7.1839L11.905 6.67857L11.8878 6.58006ZM9.03886 7.17359L10.8716 5.69842L10.8089 5.62052L8.97616 7.09569L9.03886 7.17359ZM10.8892 5.15509L4.00862 3.95075L3.99138 4.04925L10.872 5.25359L10.8892 5.15509ZM3.95387 4.01928L7.57515 12.6859L7.66742 12.6474L4.04613 3.98072L3.95387 4.01928ZM7.65914 12.6993L12.7045 6.85222L12.6288 6.78689L7.58343 12.634L7.65914 12.6993ZM12.7002 6.78247L10.9141 5.16725L10.8471 5.24142L12.6331 6.85664L12.7002 6.78247Z",fill:"white"}})]),e("span",{staticStyle:{margin:"2px 0 0 5px","font-size":"15px"}},[t._v("TRON")]),t.tronLinkAddress?e("i",{staticClass:"el-icon-refresh-left",staticStyle:{color:"#b53e31","margin-left":"10px","font-size":"18px","font-weight":"600",cursor:"pointer"},on:{click:t.refreshTronLinkData}}):t._e()]),t.tronLinkAddress?e("div",{staticClass:"simple-tips2"},[t._v("余额:"),e("span",[t._v(t._s(t.formatBigNumber(t.toTrx(t.tronLinkBalance))))])]):t._e()]),e("div",[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("i",{class:t.tronLinkAddress?"el-icon-success success-color":"el-icon-warning warning-color",staticStyle:{"margin-right":"5px"}}),e("span",{staticClass:"font-size-13"},[t._v(t._s(t.tronLinkAddress?"已连接":"未连接"))])]),t.tronLinkAddress?e("div",{staticClass:"simple-tips2"},[t._v("能量:"),e("span",[t._v(t._s(t.formatBigNumber(t.tronLinkEnergy)))])]):t._e()]),e("div",[e("div",[t.tronLinkAddress?e("div",{staticClass:"primary-color",staticStyle:{"font-weight":"600","font-size":"10px"}},[t._v(t._s(t.tronLinkNet))]):e("div",[e("span",{staticClass:"error-color font-size-13",staticStyle:{padding:"0",cursor:"pointer"},attrs:{type:"text"},on:{click:t.linkWallet}},[t._v("连接钱包")])])]),t.tronLinkAddress?e("div",{staticClass:"simple-tips2"},[t._v("带宽:"),e("span",[t._v(t._s(t.formatBigNumber(t.tronLinkBandwidth)))])]):t._e()])])]):e("div",{staticClass:"error-color",staticStyle:{"font-weight":"500","font-size":"18px","text-align":"center"}},[t._v(" 当前网络不可用，尝试切换其他主网 ")]),t.isInit&&!t.tronLinkRequestNormal?e("el-alert",{staticClass:"margin-top-10",attrs:{title:"当前选择的主网网络不可用，尝试切换其他主网！",type:"warning","show-icon":"",closable:!1}}):t._e(),t.tronLinkNetTest?e("el-alert",{attrs:{title:"当前选择的网络不是主网，不能下单！",type:"warning","show-icon":"",closable:!1}}):t._e()],1)],1):e("el-button",{staticClass:"margin-top-15 button-style",attrs:{round:"",type:"primary"},on:{click:t.openTronLink}},[t._v("打开 TronLink 下单更便捷")]),e("div",{staticClass:"flex-center",staticStyle:{margin:"30px 0"}},[e("type",{attrs:{type:t.form.resType,"bandwidth-label":t.BANDWIDTHKEY,"energy-label":t.ENERGYKEY},on:{"update:type":function(e){return t.$set(t.form,"resType",e)}}})],1),e("el-form",{ref:"form",attrs:{"label-position":"top",size:"medium",model:t.form,"label-width":"100px"}},[e("el-form-item",{staticClass:"form-item",attrs:{label:"可用资源数量"}},[e("div",{staticClass:"margin-top-0"},[e("el-progress",{attrs:{percentage:t.progressConfigData[0],"stroke-width":15,"text-inside":!0,format:t.progressFormat,"text-color":"white"}})],1),e("div",{staticClass:"input-right-tips simple-tips"},[t._v("详细："),e("span",[t._v(t._s(t.progressConfigData[1]))])])]),e("el-form-item",{staticClass:"form-item",attrs:{label:"资源租用时间"}},[e("rent-time",{attrs:{"rent-time":t.form.rentTime,"rent-time-config":t.rentTimeConfig},on:{"update:rentTime":function(e){return t.$set(t.form,"rentTime",e)},"update:rent-time":function(e){return t.$set(t.form,"rentTime",e)}}}),e("select-item",{attrs:{val:t.form.rentTime,config:t.selectItemConfig.rentTiem},on:{click:t.selectItemRentTimeClick}}),e("div",{staticClass:"simple-tips margin-top-10"},[t._v(" 预计 "),e("span",[t._v(t._s(t.recoveryTimeTips))]),t._v(" 到期被系统回收 ")])],1),e("el-form-item",{staticClass:"receive-resource-address",attrs:{label:"资源接收地址"}},[e("el-input",{attrs:{clearable:"","suffix-icon":t.showAddressSuffix,placeholder:"不填写默认为当前账户地址"},on:{change:t.receiveAddressChange},model:{value:t.form.receiveAddress,callback:function(e){t.$set(t.form,"receiveAddress",e)},expression:"form.receiveAddress"}})],1),e("el-form-item",{staticClass:"form-item",attrs:{label:"租用资源数量"}},[e("pay-nums",{staticStyle:{"line-height":"34px"},attrs:{"pay-nums":t.form.payNums,form:t.form,"pay-config":t.payConfig},on:{"update:payNums":function(e){return t.$set(t.form,"payNums",e)},"update:pay-nums":function(e){return t.$set(t.form,"payNums",e)}}}),e("select-item",{attrs:{val:t.form.payNums,config:t.selectItemConfig[t.form.resType]},on:{click:t.selectItemClick}})],1),e("el-form-item",{staticClass:"form-item",attrs:{label:"租用资源锁定"}},[e("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"上锁","inactive-text":"不上锁",disabled:t.resLockDisabled},model:{value:t.form.resLock,callback:function(e){t.$set(t.form,"resLock",e)},expression:"form.resLock"}}),e("div",{staticClass:"simple-tips"},[e("span",{staticClass:"error-color"},[t._v("租用数量")]),t._v(" X "),e("span",{staticClass:"error-color"},[t._v("租用天数")]),t._v(" = "),e("span",{staticClass:"error-color"},[t._v("累计租用量")]),t._v("不小于"),e("span",[t._v(" "+t._s(t.formatBigNumber(t.payConfig.resLockLimit[t.form.resType]))+" ")]),t._v("且租用时间大于"),e("span",[t._v(" 1 ")]),t._v("天才可以上锁")])],1),t._e(),e("el-form-item",{attrs:{label:"订单备注"}},[e("el-input",{attrs:{clearable:"",placeholder:"请填写订单备注"},model:{value:t.form.orderNotes,callback:function(e){t.$set(t.form,"orderNotes",e)},expression:"form.orderNotes"}})],1),e("el-form-item",{attrs:{label:"详细"}},[e("div",{staticClass:"xiangxi-background",staticStyle:{padding:"20px 5px 20px 20px"}},[e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("订单金额")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.toTrx(t.orderMoney))+" TRX")])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v(t._s(t.orderPriceTips))]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.orderPrice.toString())+" SUN")])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("订单时长")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.rentTimeTips))])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("租用数量")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s((t.form.payNums/1e4).toString()+"万"))])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("类型")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.resTypeConfig[t.form.resType]))])]),t.form.resType===t.ENERGYKEY?e("div",{staticClass:"flex-align-center"},[e("el-tooltip",{attrs:{content:"单价 "+t.orderPrice.toString()+" SUN , 较"+t.rentTimeTips+"烧毁省 "+t.sumSave[1]+"TRX"}},[e("i",{staticClass:"el-icon-question ciyaowenzi-color",staticStyle:{position:"absolute",left:"-2px",top:"0",width:"4px","font-size":"15px"}})]),e("span",{staticClass:"left"},[t._v("节省")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.sumSave[1])+" TRX")])],1):t._e(),t.form.resType===t.ENERGYKEY?e("div",{staticClass:"flex-align-center"},[e("el-tooltip",{attrs:{content:"单价 "+t.orderPrice.toString()+" SUN , 较"+t.rentTimeTips+"烧毁省 "+t.sumSave[0]+"%TRX"}},[e("i",{staticClass:"el-icon-question ciyaowenzi-color",staticStyle:{position:"absolute",left:"-2px",top:"0",width:"4px","font-size":"15px"}})]),e("span",{staticClass:"left"},[t._v("折扣")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.sumSave[0])+" %TRX")])],1):t._e(),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("接收地址")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v(t._s(t.form.receiveAddress?t.showReceiveAddress(t.form.receiveAddress):"无"))])]),e("div",{staticClass:"flex-align-center"},[e("span",{staticClass:"left"},[t._v("批量下单")]),e("span",{staticClass:"middle"},[t._v(":")]),e("span",{staticClass:"right"},[t._v("如需批量地址下单功能，请登录平台")])])])]),e("el-form-item",[t.canPayConfig[t.form.resType]?e("div",{staticStyle:{display:"flex"}},[t.tronLikCanPay?e("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{round:"",size:"medium",type:"primary"},on:{click:function(e){return t.onSubmit("tronLink")}}},[t._v("TronLink支付")]):t._e(),e("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{round:"",size:"medium",type:"warning"},on:{click:function(e){return t.onSubmit("scanCode")}}},[t._v("地址支付")]),t.isLogin?e("el-button",{staticClass:"button-style",staticStyle:{width:"inherit",flex:"1"},attrs:{round:"",size:"medium",type:"success"},on:{click:function(e){return t.onSubmit("userPay")}}},[t._v("账号支付")]):t._e()],1):e("stop-pay",{attrs:{form:t.form,"res-type-config":t.resTypeConfig}}),e("div",{staticClass:"error-color",staticStyle:{"line-height":"normal","margin-top":"5px"}},[t._v("温馨提示：TronLink支付必须在1分钟完成支付，下单异常或有疑问可咨询客服！")])],1)],1),e("show-collect-money",{ref:"scanMoney",attrs:{"scan-result-id":t.popup2.scanResultId,"copy-content":t.copyContent,"end-time":t.popup2.endTime,"start-time":t.popup2.startTime,"collect-address":t.popup2.collectAddress,"collect-money":t.popup2.collectMoney,"is-phone":t.isPhone,"current-time":t.popup2.currentTime,"auto-reset":!1},on:{close:t.popupClose2}}),e("pay-group-name",{ref:"payGroupName"}),e("account-pay-tips",{ref:"accountPayTips",attrs:{"is-phone":t.isPhone}})],1)],1)},n=[],o=s("3653"),c=o["a"],l=(s("1482"),s("a1e6"),s("2877")),p=Object(l["a"])(c,r,n,!1,null,"b6b21ff2",null),d=p.exports,u=s("2cdd"),f=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"history-card phone-card margin-15",attrs:{id:"history-list","body-style":t.card_body_style}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("div",{staticClass:"card-title",staticStyle:{"white-space":"nowrap"},on:{click:t.test}},[t._v("订单记录")]),e("div",{staticClass:"margin-left-20",staticStyle:{display:"flex","flex-wrap":"wrap"}},[e("search",{ref:"stateSearch",attrs:{"is-popup":!1,remoteUpdateParams:t.searchUpdateParams}}),e("el-button",{staticClass:"base-shadow white-button",style:{"margin-top":t.isPhone?"10px":0},attrs:{size:"mini",round:""},on:{click:t.openPopup2}},[t._v("打开搜索配置")])],1)])]),e("order-table",{ref:"orderTable",attrs:{"table-data":t.historyData,"page-change":t.pageChange,"show-page":!0,page:t.page,pages:t.pages,total:t.total}}),e("search",{ref:"search",attrs:{remoteUpdateParams:t.stateSearchUpdateParams},on:{searchUpdate:function(e){return t.pageChange(1)}}})],1)},m=[],h=s("9215"),_=s("ad3a"),y=function(){var t=this,e=t._self._c;return e("div",[t.isPopup?e("custom-dialog",{attrs:{title:"设置搜索条件",visible:t.visible,"is-phone":t.isPhone},on:{"update:visible":function(e){t.visible=e},close:t.close}},[e("div",{staticClass:"popup-default",staticStyle:{width:"700px"},attrs:{id:"popup2"}},[e("el-form",{attrs:{"label-position":"top"}},["chromeIndex"===t.selectSearch?e("div",{staticClass:"error-color",staticStyle:{"text-align":"left"}},[t._v("温馨提示：该搜索是根据浏览器历史下单")]):t._e(),t.isPhone?e("el-form-item",{attrs:{label:"请选择搜索类型"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{"popper-append-to-body":!1,placeholder:"请选择搜索类型"},on:{change:t.searchUpdate},model:{value:t.selectSearch,callback:function(e){t.selectSearch=e},expression:"selectSearch"}},t._l(t.search,(function(t,s){return e("el-option",{key:s,attrs:{label:t.name,value:s}})})),1)],1):e("div",{staticClass:"flex-center",staticStyle:{margin:"10px 0 30px 0"}},[e("el-radio-group",{staticStyle:{display:"flex",width:"100%"},attrs:{size:"medium"},on:{input:t.searchUpdate},model:{value:t.selectSearch,callback:function(e){t.selectSearch=e},expression:"selectSearch"}},t._l(t.search,(function(s,a){return e("el-radio-button",{key:a,staticStyle:{flex:"1"},attrs:{label:a}},[t._v(t._s(s.name))])})),1)],1),"payAddress"===t.selectSearch?e("el-form-item",{staticClass:"search-address",attrs:{label:"请填写搜索订单的支付地址"}},[e("el-input",{attrs:{clearable:"","suffix-icon":t.showPopup2AddressSuffix,placeholder:"请填写搜索订单的支付地址"},on:{change:t.inputChange},model:{value:t.search.payAddress.data.val,callback:function(e){t.$set(t.search.payAddress.data,"val",e)},expression:"search.payAddress.data.val"}})],1):t._e(),"receiveAddress"===t.selectSearch?e("el-form-item",{staticClass:"search-address",attrs:{label:"请填写订单资源接收地址"}},[e("el-input",{attrs:{clearable:"","suffix-icon":t.showPopup2AddressSuffix,placeholder:"请填写订单资源接收地址"},on:{change:t.inputChange},model:{value:t.search.receiveAddress.data.val,callback:function(e){t.$set(t.search.receiveAddress.data,"val",e)},expression:"search.receiveAddress.data.val"}})],1):t._e(),"orderUser"===t.selectSearch?e("el-form-item",{attrs:{label:"请选择订单的分组名"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{"popper-append-to-body":!1,placeholder:"请选择订单跟随分组"},on:{change:t.searchUpdate},model:{value:t.search.orderUser.data.val,callback:function(e){t.$set(t.search.orderUser.data,"val",e)},expression:"search.orderUser.data.val"}},[e("el-option",{attrs:{label:"",value:""}}),t._l(t.userList,(function(t,s){return e("el-option",{key:s,attrs:{label:t,value:t}})}))],2)],1):t._e(),e("el-form-item",{attrs:{label:"请选择订单状态"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{"popper-append-to-body":!1,placeholder:"请选择订单状态"},on:{change:t.searchUpdate},model:{value:t.search[t.selectSearch].data.val2,callback:function(e){t.$set(t.search[t.selectSearch].data,"val2",e)},expression:"search[selectSearch].data.val2"}},[e("el-option",{attrs:{label:"",value:""}}),t._l(t.orderStateConfig,(function(t,s){return e("el-option",{key:s,attrs:{label:t,value:t}})}))],2)],1)],1)],1)]):e("el-select",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",placeholder:"筛选订单状态"},on:{change:t.remoteUpdateParams},model:{value:t.search[t.selectSearch].data.val2,callback:function(e){t.$set(t.search[t.selectSearch].data,"val2",e)},expression:"search[selectSearch].data.val2"}},[e("el-option",{attrs:{label:"",value:""}}),t._l(t.orderStateConfig,(function(t,s){return e("el-option",{key:s,attrs:{label:t,value:t}})}))],2)],1)},g=[],v=s("8e01"),b=s("82e0"),C={name:"index",mixins:[u["a"],b["a"]],components:{CustomDialog:v["a"]},props:{isPopup:{type:Boolean,default:!0},remoteUpdateParams:{type:Function,default:()=>{}}},data:function(){return{inputValue:"",selectSearch:"chromeIndex",search:{chromeIndex:{name:"搜索历史下单",data:{val:"chromeIndex",val2:""}},payAddress:{name:"搜索支付地址",data:{val:"",val2:""}},receiveAddress:{name:"搜索接收资源地址",data:{val:"",val2:""}},orderUser:{name:"搜索分组名",data:{val:"",val2:""}}}}},computed:{showPopup2AddressSuffix:function(){return""!==this.search[this.selectSearch].data.val?this.suffix:""}},methods:{inputChange:async function(t){t&&!await this.checkAddress(t)&&(this.search[this.selectSearch].data.val=""),this.searchUpdate()},getSearchParams:function(){!this.search.payAddress.data.val&&this.tronLinkAddress&&(this.search.payAddress.data.val=this.tronLinkAddress),"chromeIndex"===this.selectSearch&&(this.search.chromeIndex.data.val=this.chromeIndex+"|"+this.getFingerprints(),this.tronLinkAddress&&(this.search.chromeIndex.data.val+="|"+this.tronLinkAddress));const t=this.search[this.selectSearch].data;return{searchData:t,params:{[this.selectSearch]:[t.val,t.val2]}}},searchUpdate:function(){this.remoteUpdateParams(this.search[this.selectSearch].data.val2),this.$emit("searchUpdate")},updateParams:function(t,e){this.search[this.selectSearch].data.val2=t,e&&this.searchUpdate()}}},w=C,x=(s("0fc7"),Object(l["a"])(w,y,g,!1,null,"4be9886e",null)),T=x.exports,L=s("21ee"),S={name:"showOrder",components:{Search:T,OrderTable:L["a"]},mixins:[u["a"],h["a"]],data:function(){return{historyData:[],page:1,pages:1,limit:8,total:0,pageRequest:!1}},created(){this.createIntervalTask(this.getHistory,this.$parent.$options.name)},methods:{getHistory:async function(t,e){if(e||!this.pageRequest){this.pageRequest=!!e,t=t||this.page;try{const e=this.$refs.search.getSearchParams();if(e.searchData.val){const{data:s,pages:a,total:i}=await Object(_["b"])(e.params,t);this.historyData=s,this.pages=a,this.page=t,this.total=i,this.$refs.orderTable.tableDataUpdate(),this.pageRequest=!1}}catch(s){}}},openPopup2:function(){this.$refs.search.open()},test:function(){},pageChange:async function(t){await this.getHistory(t,!0)},searchUpdateParams:function(t){this.$refs.search.updateParams(t,!0)},stateSearchUpdateParams:function(t){this.$refs.stateSearch.updateParams(t,!1)}}},P=S,k=(s("ba69"),s("78b2"),Object(l["a"])(P,f,m,!1,null,"0570673e",null)),D=k.exports,O=s("2707"),M={name:"resPay",mixins:[u["a"]],components:{ShowOrder:D,Pay:d,NoticeBar:O["a"]}},E=M,R=Object(l["a"])(E,a,i,!1,null,"acc61c9c",null);e["default"]=R.exports},a8a0:function(t,e,s){"use strict";var a=s("bf60"),i=s.n(a);e["default"]=i.a},ad3a:function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"e",(function(){return r})),s.d(e,"d",(function(){return n})),s.d(e,"f",(function(){return o})),s.d(e,"c",(function(){return c})),s.d(e,"a",(function(){return l}));var a=s("b775");const i=async function(t,e){const s=await Object(a["i"])({method:"post",url:"/simple/history",data:{search:t,page:e},headers:{[a["d"]]:["#history-list",a["b"]],[a["h"]]:1}});if(s)return s.data.data;throw""},r=async function(t){const e=await Object(a["i"])({method:"post",url:"/simple/tronLinkRenewals",data:t,headers:{[a["f"]]:!0}});return!!e&&e.data},n=async function(t){const e=await Object(a["i"])({method:"post",url:"/simple/orderRenewals",data:t});return!!e&&e.data},o=async function(t){const e=await Object(a["i"])({method:"post",url:"/simple/userRenewals",data:t});return!!e&&e.data},c=async function(t){const e=await Object(a["i"])({method:"post",url:"/simple/orderRecord",data:{orderId:t}});return!!e&&e.data.data.data},l=async function(t){const e=await Object(a["i"])({method:"post",url:"/simple/checkRenewals",data:t});return!!e&&e.data.code===a["g"]}},b23c:function(t,e,s){},ba69:function(t,e,s){"use strict";s("b23c")},bf60:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"l1":"immediately recycling","异常":"error","回收异常":"recoveryError","部分回收":"recoveryPart","已回收":"recovery","代理中":"delegating","部分代理":"delegating part","安排中":"processing","l2":"payment record","l3":"delegate detail"},"cn":{"l1":"即将回收","异常":"异常","回收异常":"回收异常","部分回收":"部分回收","已回收":"已回收","代理中":"代理中","部分代理":"部分代理","安排中":"安排中","l2":"消费记录","l3":"代理详情"}}'),delete t.options._Ctor}},cf24:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("custom-popup",{attrs:{title:"扫码支付",visible:t.visible,"is-phone":t.isPhone},on:{"update:visible":function(e){t.visible=e},close:t.close}},[e("div",{staticClass:"popup-default"},[e("div",{staticClass:"popup-content-tips margin-top-0",staticStyle:{"text-align":"left"}},[e("ul",{staticClass:"ul-style margin-left-20"},[e("li",{staticClass:"margin-left-20"},[t._v("请在有效的时间内支付")]),e("li",{staticClass:"margin-left-20"},[t._v("需转账："+t._s(t.collectMoney.toString())+" 个TRX"),e("em",{staticStyle:{"margin-left":"5px","font-size":"10px"}},[t._v("(不能少否则不能到账)")])]),e("li",{staticClass:"margin-left-20"},[t._v("收款地址："),e("span",[t._v(t._s(t.isPhone?t.abbreviationAddress(t.collectAddress):t.collectAddress))])])]),e("div",{staticClass:"error-color margin-left-20",staticStyle:{"font-size":"15px"}},[t._v("请勿同时在同一浏览器多窗口拉起扫码支付")]),e("div",{staticStyle:{position:"relative","text-align":"center",padding:"20px 0 10px 0"}},[t.timeout?e("div",{staticClass:"error-color",staticStyle:{"font-size":"20px","font-weight":"500"}},[t._v("支付超时，请勿支付")]):e("el-statistic",{ref:"statistic",staticClass:"error-color",attrs:{format:"mm 分 ss 秒",value:1e3*t.endTime-5e3,title:"剩余时间：","time-indices":""},on:{finish:t.timeoutClose}}),e("vue-qrcode",{style:{filter:t.timeout?"blur(2px)":"inherit"},attrs:{value:t.collectAddress,width:230,margin:2}}),t.timeout?t._e():e("div",{staticClass:"popup2-info popup2-radius-bottom",staticStyle:{"padding-top":"0",position:"absolute",left:"50%",bottom:"16px",transform:"translate(-50%, 100%)"}},[t._v(" 监控支付中"+t._s(t.loadingText)+" ")])],1)]),e("div",{staticStyle:{"padding-top":"15px"}},[e("el-button",{staticClass:"button-style",attrs:{type:"primary",round:""},on:{click:function(e){return t.popup2Copy("address")}}},[t._v("复制收款地址")])],1),e("div",[e("el-button",{staticClass:"button-style",attrs:{type:"primary",round:""},on:{click:function(e){return t.popup2Copy("trx")}}},[t._v("复制支付数量")])],1)])])},i=[],r=s("67ee");function n(t,e){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(s[a]=t[a]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]])}return s}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=s("736c"),c=s.n(o);const l=["low","medium","quartile","high","L","M","Q","H"],p=[0,1,2,3,4,5,6,7],d=["alphanumeric","numeric","kanji","byte"],u=["image/png","image/jpeg","image/webp"],f=40;var m={props:{version:{type:Number,validator:t=>t===Number.parseInt(String(t),10)&&t>=1&&t<=f},errorCorrectionLevel:{type:String,validator:t=>l.includes(t)},maskPattern:{type:Number,validator:t=>p.includes(t)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:t=>["dark","light"].every(e=>["string","undefined"].includes(typeof t[e]))},type:{type:String,validator:t=>u.includes(t)},quality:{type:Number,validator:t=>t===Number.parseFloat(String(t))&&t>=0&&t<=1},value:{type:[String,Array],required:!0,validator(t){return"string"===typeof t||t.every(({data:t,mode:e})=>"string"===typeof t&&(null==e||d.includes(e)))}}},data(){return{dataUrl:""}},watch:{$props:{deep:!0,immediate:!0,handler:"toDataURL"}},methods:{toDataURL(){const t=this.$props,{quality:e}=t,s=n(t,["quality"]);return c.a.toDataURL(this.value,Object.assign(s,null==e||{renderOptions:{quality:e}})).then(t=>this.dataUrl=t).catch(t=>this.$emit("error",t))}},render(){return this.$createElement("img",{domProps:Object.assign(Object.assign({},this.$attrs),{src:this.dataUrl})})}},h=s("cf45"),_=s("82e0"),y=s("2934"),g=s("4360"),v={name:"index",mixins:[_["a"]],components:{CustomPopup:r["a"],VueQrcode:m},props:{isPhone:{type:Boolean,required:!0},collectMoney:{type:Number,required:!0},collectAddress:{type:String,required:!0},startTime:{type:Number,required:!0},endTime:{type:Number,required:!0},currentTime:{type:Number,required:!0},copyContent:{type:Function,required:!0},scanResultId:{type:String,required:!0},autoReset:{type:Boolean,default:!0}},data:function(){return{abbreviationAddress:h["a"],loadingText:".",timeout:!1}},watch:{visible:function(){this.visible&&(this.timeout=!1,this.createLoadingText(),this.checkPayResult())}},methods:{close:function(){this.autoReset&&setTimeout(()=>{Object(y["c"])(g["a"].state.app.chromeIndex,this.scanResultId)},12e4),this.$emit("close")},popup2Copy:function(t){"address"===t?this.copyContent(this.collectAddress):this.copyContent(this.collectMoney.toString())},checkPayResult:async function(){if(await Object(y["b"])(this.scanResultId))return this.visible=!1,this.$message.success("支付成功"),void this.close();this.visible&&!this.timeout&&Object(h["n"])()<this.endTime&&setTimeout(()=>{this.checkPayResult()},5e3)},createLoadingText:function(){this.loadingText=6===this.loadingText.length?".":this.loadingText+".",this.visible&&!this.timeout&&setTimeout(()=>{this.createLoadingText()},500)},timeoutClose:function(){this.timeout=!0}}},b=v,C=(s("f3c7"),s("db4e"),s("2877")),w=Object(C["a"])(b,a,i,!1,null,"d973c38a",null);e["a"]=w.exports},d031:function(t,e,s){},d487:function(t,e,s){},d818:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[e("el-popover",{ref:"popover",attrs:{placement:"top",title:"价格明细",width:"200",trigger:"focus"}},[e("ul",{staticClass:"ul-style",staticStyle:{margin:"20px"}},t._l(t.payConfig.priceInfo[t.form.resType],(function(s,a){return e("li",{key:a,staticStyle:{"font-size":"18px"}},[e("span",[t._v(t._s(s.desc))]),e("span",{staticClass:"error-color",staticStyle:{"font-size":"23px","font-weight":"500",margin:"0 10px"}},[t._v(t._s(s.price))]),e("span",{staticStyle:{"font-size":"14px"}},[t._v("sun")])])})),0)]),e("el-input-number",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticStyle:{width:"100%"},attrs:{step:t.sumUsdtConfig[t.form.resType],min:t.inputNumsMaxMin[0],max:t.inputNumsMaxMin[1],placeholder:t.placeholderPayNums,type:"number"},on:{change:t.payNumsInputChange},model:{value:t.inputPayNums,callback:function(e){t.inputPayNums=e},expression:"inputPayNums"}}),e("div",{staticClass:"error-color",staticStyle:{position:"absolute",top:"1px",right:"36px",padding:"0 15px","background-color":"#f5f7fa","text-align":"center","border-left":"1px solid #DCDFE6"}},[t._v(" "+t._s(t.showPayNumsSimple)+" ")]),e("div",{staticClass:"input-right-tips simple-tips",staticStyle:{top:"-30px"}},[t._v(" 预估可转账USDT"),e("span",{staticStyle:{margin:"0 5px","font-size":"15px"}},[t._v(t._s(t.usdtInfo)+" ")]),t._v(" 次"),e("el-button",{staticClass:"error-color",staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:t.openPormptUsdt}},[t._v("修改")])],1)],1)},i=[],r=s("cf45"),n={name:"payNums",props:{payConfig:{type:Object,required:!0},form:{type:Object,required:!0},payNums:{type:[Number,String],required:!0}},data:function(){return{sumUsdtConfig:{ENERGY:32e3,BANDWIDTH:283},inputPayNums:""}},computed:{inputNumsMaxMin:function(){return[this.payConfig.minPayNumsConfig[this.form.resType],this.payConfig.progressConfig[this.form.resType].available]},usdtNumsMaxMin:function(){return[Math.floor(this.inputNumsMaxMin[0]/this.sumUsdtConfig[this.form.resType]),Math.floor(this.inputNumsMaxMin[1]/this.sumUsdtConfig[this.form.resType])]},placeholderPayNums:function(){return this.payConfig.minPayNumsConfig[this.form.resType]?"请输入租用数量，最少"+this.payConfig.minPayNumsConfig[this.form.resType].toString():""},showPayNumsSimple:function(){return this.form.payNums?this.form.payNums<1e4?this.form.payNums.toString():(this.form.payNums/1e4).toString()+"W":"0"},usdtInfo:function(){return this.form.payNums>0?Math.floor(this.form.payNums/this.sumUsdtConfig[this.form.resType]):0}},watch:{payNums:function(){this.inputPayNums=this.payNums}},created(){this.inputPayNums=this.payNums},methods:{payNumsInputChange:function(t){return Object(r["k"])(t)?t<this.payConfig.minPayNumsConfig[this.form.resType]?(this.$message.warning("租用资源数量不能小于"+this.payConfig.minPayNumsConfig[this.form.resType].toString()),void this.setPayNums("")):(t>this.payConfig.progressConfig[this.form.resType].available&&(this.$message.warning("租用数量过大，联系客服"),this.setPayNums("")),void this.setPayNums(t)):(this.$message.warning("无效值"),void this.setPayNums(""))},setPayNums:function(t){this.$emit("update:payNums",t)},openPormptUsdt:function(){const t="至少 "+this.usdtNumsMaxMin[0]+" 次;至多 "+this.usdtNumsMaxMin[1]+" 次";this.$prompt("info","修改USDT次数","请输入USDT次数","确定","取消",{inputValidator:e=>e>=this.usdtNumsMaxMin[0]&&e<=this.usdtNumsMaxMin[1]||t,inputPlaceholder:t,inputType:"Number",inputValue:this.usdtInfo}).then(({value:t})=>{this.setPayNums(Number(t)*this.sumUsdtConfig[this.form.resType])}).catch(()=>{})}}},o=n,c=s("2877"),l=Object(c["a"])(o,a,i,!1,null,"742776e2",null);e["a"]=l.exports},db4e:function(t,e,s){"use strict";s("6426")},dc8b:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("popup",{staticStyle:{height:"120px","text-align":"center"},style:{width:t.isPhone?"80vw":"350px"},attrs:{"get-container":"body","close-on-click-overlay":!1,round:""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",height:"100%",width:"100%"}},[e("van-loading",{attrs:{color:t.variables["primary-color"],size:40}}),e("div",{staticClass:"primary-color",staticStyle:{"margin-left":"30px","font-weight":"800","font-size":"30px"}},[t._v("账号支付中.....")])],1)])},i=[],r=(s("ac1e"),s("543e")),n=(s("8a58"),s("e41f")),o=s("7326"),c=s.n(o),l={name:"index",components:{Popup:n["a"],VanLoading:r["a"]},props:{isPhone:{type:Boolean,required:!0}},data:function(){return{variables:c.a,visible:!1}},methods:{setVisible:function(t){this.visible=t}}},p=l,d=s("2877"),u=Object(d["a"])(p,a,i,!1,null,"f7428668",null);e["a"]=u.exports},ea4c:function(t,e,s){"use strict";s("039a")},ee61:function(t,e,s){t.exports={"border-color":"#e5e7eb","phone-width":"768px","background-color":"#f0f8ff","order-state-primary-phone":"#d9ecff","order-state-success-phone":"#e1f3d8","order-state-warning-phone":"#faecd8","order-state-error-phone":"#fde2e2","primary-color":"#409eff","success-color":"#67C23A","warning-color":"#E6A23C","error-color":"#F56C6C","ciyaowenzi-color":"#909399","base-shadow":"0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04)","base3-shadow":"0 1px 1px #ccc","font-wight-600":"600","nav-menu-text-color":"#1989fa","nav-menu-text-color2":"#2c3e50","aside-width":"200px","zhuyaowenzi-color":"#606266"}},f352:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("custom-popup",{attrs:{title:"分组详情",visible:t.visible,"is-phone":t.isPhone},on:{"update:visible":function(e){t.visible=e},close:t.close}},[[e("div",{staticClass:"popup-default",attrs:{id:"popup3"}},[e("el-card",{staticStyle:{margin:"25px 10px"}},[e("el-form",{attrs:{"label-position":"top"}},[e("el-form-item",{staticStyle:{"text-align":"left","margin-bottom":"20px !important"},attrs:{label:"请填写新建的分组名"}},[e("el-input",{attrs:{type:"text",placeholder:"只允许字母和数字，下划线_及破折号-"},model:{value:t.addUsernameInput,callback:function(e){t.addUsernameInput=e},expression:"addUsernameInput"}})],1),e("el-form-item",{staticStyle:{"margin-bottom":"0!important"}},[e("el-button",{staticClass:"button-style",attrs:{round:"",type:"primary"},on:{click:t.popup3AddUserList}},[t._v("新建新分组")])],1)],1)],1),t.userList.length>0?e("div",t._l(t.userList,(function(s,a){return e("el-card",{key:a,staticStyle:{margin:"25px 10px"}},[e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("el-avatar",{attrs:{src:t.icon}}),e("div",{staticStyle:{"font-size":"23px","font-weight":"500","margin-left":"20px"}},[t._v(t._s(s))])],1),e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.popupUserListDel(s)}}},[t._v("删除")])],1)])})),1):e("el-empty",{attrs:{description:"暂无分组数据"}})],1)]],2)},i=[],r=s("67ee"),n=s("2cdd"),o=s("82e0"),c=s("b775");const l=async function(t){const e=await Object(c["i"])({method:"post",url:"/simpleUser/add",data:{groupName:t.trim()},headers:{[c["c"]]:[encodeURIComponent('div[aria-label="分组详情"]'),encodeURIComponent(".el-dialog__body")],[c["e"]]:c["c"]}});return!!e&&e.data.code===c["j"]};var p=s("555a"),d=s.n(p),u=s("4360"),f={name:"index",mixins:[n["a"],o["a"]],components:{CustomPopup:r["a"]},data:function(){return{icon:d.a,addUsernameInput:""}},methods:{popup3AddUserList:async function(){try{if(this.userList.indexOf(this.addUsernameInput)>-1)throw"分组名已存在"}catch(t){return void this.$message.warning(t)}await l(this.addUsernameInput)&&u["a"].commit("pay/userList_add",[this.addUsernameInput])},popupUserListDel:function(t){u["a"].commit("pay/userList_del",[t]),this.$message.success("删除成功")}}},m=f,h=s("2877"),_=Object(h["a"])(m,a,i,!1,null,"011f2246",null);e["a"]=_.exports},f3c7:function(t,e,s){"use strict";s("7331")},f41c:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"能量":"ENERGY","带宽":"BANDWIDTH","提交":"Submit"},"cn":{"能量":"能量","带宽":"带宽","提交":"提交"}}'),delete t.options._Ctor}}}]);